<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>new Number(10).toString(16) new Number(254).toString(16)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="new Number(10).toString(16) new Number(254).toString(16)">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="new Number(10).toString(16) new Number(254).toString(16)">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="new Number(10).toString(16) new Number(254).toString(16)">
<meta name="twitter:description">
    

    

    
        <link rel="icon" href="/favicon.png" />
    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/open-sans/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
    
    

</head>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">new Number(10).toString(16) new Number(254).toString(16)</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">Yan Yu</h2>
            <h3 id="title">FE</h3>
            <span id="location"><i class="fa fa-map-marker"></i>PEK, China</span>
            <a id="follow" target="_blank" href="https://github.com/yanyu0517/">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                15
                <span>文章</span>
            </div>
            <div class="article-info-block">
                34
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/yanyu0517/" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/yu.yan.338863" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-编码到底怎么回事" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2017/08/25/编码到底怎么回事/">编码到底怎么回事</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/08/25/编码到底怎么回事/">
            <time datetime="2017-08-25T04:47:08.000Z" itemprop="datePublished">2017-08-25</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/－unicode-gbk-utf8-utf16-encoding/">－unicode -gbk -utf8 -utf16 -encoding</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="编码到底怎么回事"><a href="#编码到底怎么回事" class="headerlink" title="编码到底怎么回事"></a>编码到底怎么回事</h1><h2 id="什么是编码"><a href="#什么是编码" class="headerlink" title="什么是编码"></a>什么是编码</h2><blockquote>
<p>字符编码（英语：Character encoding）、字集码是把字符集中的字符编码为指定集合中某一对象（例如：比特模式、自然数序列、8位组或者电脉冲），以便文本在计算机中存储和通过通信网络的传递。</p>
</blockquote>
<p>上面是维基百科中文对字符编码的定义，看起来会很抽象，其实在我们平时生活和开发中，编码可以说是无处不在。简单的在 windows 中新建一个记事本会用到编码，复杂的如摩尔斯电码也是一种编码。对于普通人来说编码可能对于他们来说并没有什么意义，也不会感觉到不同编码之间的差异，而我们作为软件领域的从业者，编码与我们的工作息息相关。</p>
<p>无论是FE还是后端开发、OP 甚至 DBA 在日常工作中经常会遇到编码所引起的问题，如页面乱码无法正常显示，IE6 下部分 CSS 样式无法解析，数据库中文乱码影响读写，部署 Tomcat 接收到中文乱码等等都是由编码引起的。大多数问题通过把编码或者字符集设置为 UTF-8 即可解决。那么究竟 UTF-8 是什么编码能有这么神（niu）奇（x）的作用呢。除了 UTF-8 还有那些编码呢？下面让我们看看编码到底是怎么回事。</p>
<h2 id="1-ASCII"><a href="#1-ASCII" class="headerlink" title="1.ASCII"></a>1.ASCII</h2><p>ASCII 的英文全称是 American Standard Code for Information Interchange，中文译为“美国信息互换标准代码”。它是由 ASNI（AmericanNational Standards Institute，美国国家标准学会）推出的一个用 128 个字符描述控制码、数字、符号、英文大小写的字节存储方案。128 这个数字程序员看起来很敏感，128 代表的是 7 位的二进制，也就是 0-127 种状态，换言之，ASCII就是用数字 0-127 来表示了英文世界中所有的文字和符号（需要注意的是，一个字节是8位的，而ascii只用了一个字节的7位，因此最高位用0作为占位）。其中33个字符无法显示（一些终端提供了扩展，使得这些字符可显示为诸如笑脸、扑克牌花式等8-bit符号），在33个字符之外的是95个可显示的字符。</p>
<p>这95个可显字符中又分为了控制字符和可显示字符，</p>
<ul>
<li>控制字符<br>摘自维基百科中文版：<a href="https://zh.wikipedia.org/wiki/%E6%8E%A7%E5%88%B6%E5%AD%97%E7%AC%A6" target="_blank" rel="external">控制字符</a></li>
</ul>
<blockquote>
<p>控制字符，是出现在特定的信息文本中，表示某一控制功能的字符。<br>在计算中，一个控制字符或非打印字符，是一个代码标示（一个数字）是否在字符集，其自身也是书写字母来描述的。所有输出在32以下的ASCII表都是这个类型，包括<br>1） BEL（要求有声信号来响应终端的接收）；<br>2） SYN（同步信号）；<br>3） ENQ（要求接收后发出响应来验证存在）；<br>4） Unicode标准增加了许多新的非打印字符，比如Zero-Width Non-Joiner。</p>
</blockquote>
<p>控制字符ASCII码表如下</p>
<p><img src="https://ww2.sinaimg.cn/large/006tNc79ly1fibkxk7ws4j30rk14q7e7.jpg" alt=""></p>
<p>上表中的控制字符，都可以在word中以unicode的方式显示出来，只需要切换到微软的任意一款输入法，之后输入`U24 + 控制字符对应的十六进制即可，如想打印␀就输入`U2400，想打印␊则输入`240A。</p>
<ul>
<li>可显示字符</li>
</ul>
<p>可显示字符则可以直接通过键盘输入，如空格、英文字母等</p>
<p>可显示ASCII码表如下</p>
<p><img src="https://ww3.sinaimg.cn/large/006tNc79ly1fiblcaghmyj313n1bjasd.jpg" alt=""></p>
<p>我们平时接触到的ASCII的地方：（欢迎补漏）</p>
<p>1、我们如何在网页中打印ASCII？</p>
<p>只需要在html中输入 <code>&amp;#</code> + ASCII对应的十进制 + <code>;</code> 便可以在网页中打印对应的符号或者文字。输入 <code>&amp;#97;</code> 就可以看到小写的<code>a</code>字母。需要注意一点的是，网页中只能正常显示可显示字符，控制字符因为大多与设备有关，是无法被打印的，强行输入控制字符对应的编码会显示为乱码或者空格。</p>
<p>2、关于keycode</p>
<p>浏览器的 <code>keydown</code>、<code>keyup</code> 和 <code>keypress</code> 都提供了 <code>keycode</code> 表示当前触发了哪个键位。但是这其中会有些区别，当我们输入大写字母 <code>A</code> 时(同时按下 <code>shift</code> 和 <code>a</code> 或者打开 <code>caps lock</code>)，<code>keydown</code>、<code>keyup</code>  和 <code>keypress</code> 的 <code>keycode</code> 都是 65，也就是 <code>A</code> 对应的 ascii 码，而当我们按下字母<code>a</code>，<code>keydown</code>和<code>keyup</code> 的 <code>keycode</code> 仍然是 65，而 <code>keypress</code> 是 97。<code>a</code> 的 ascii 是 97</p>
<p><code>keydown</code> 和 <code>keyup</code> 对于组合键并不能正确的获得键位的ascii。下面的键位的 <code>keycode</code> 在<code>keydown</code> 和 <code>keyup</code> 中都是冲突的</p>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">188 </span>, &lt;</span><br><span class="line"><span class="symbol">190 </span>. &gt;</span><br><span class="line"><span class="symbol">191 </span>/ ?</span><br><span class="line"><span class="symbol">192 </span>` ~</span><br><span class="line"><span class="symbol">219 </span>[ &#123;</span><br><span class="line"><span class="symbol">220 </span>\ |</span><br><span class="line"><span class="symbol">221 </span>] &#125;</span><br><span class="line"><span class="symbol">222 </span>‘ “</span><br></pre></td></tr></table></figure>
<p>所以如果想获得键位正确的ascii码，也就是 <code>keycode</code>，请使用 <code>keypress</code></p>
<p><a href="https://www.west-wind.com/WestwindWebToolkit/samples/Ajax/html5andCss3/keycodechecker.aspx" target="_blank" rel="external">https://www.west-wind.com/WestwindWebToolkit/samples/Ajax/html5andCss3/keycodechecker.aspx</a></p>
<p>3、如何把ascii(unicode)转换成字符串</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">String</span>.fromCharCode(<span class="number">97</span>) <span class="comment">// 'a'</span></span><br><span class="line"><span class="keyword">String</span>.fromCharCode(<span class="number">65</span>) <span class="comment">// 'A'</span></span><br></pre></td></tr></table></figure>
<p>4、如何把字符转换成ascii(unicode)</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'a'</span>.charCodeAt() <span class="comment">//97</span></span><br><span class="line"><span class="string">'a'</span>.codePointAt() <span class="comment">//97</span></span><br></pre></td></tr></table></figure>
<h2 id="2-GB2312"><a href="#2-GB2312" class="headerlink" title="2.GB2312"></a>2.GB2312</h2><p>ASCII 出现后极大的解决了英语国家（美国）在计算机编码方面的问题，但随着时间的发展，计算机逐步普及，从早期的军事用途转向商用并最终走进个人PC时代，非英语国家的人需要使用计算机就需要让计算机认识他们国家的文字，上文说过ASCII只用到了 0 到 127 位，128 位到 255 位处于空闲状态。那么这 128 位就用来表示后进入计算机领域的那些国家的文字以及符号。这被称为<code>扩展字符集</code>。</p>
<p>当扩展字符集用完了之后，仍然有很多国家需要加入自己的文字，比如中国，汉字与英文不同，无法通过字母组合来形成一个单词，每个字都是独立的，一共有 6000 多汉字需要有自己的编码。<br>很明显，单个字节无法满足中文的编码要求，因此逐渐的开始使用多个字节来标识非英文的字符。</p>
<p>仍然以中文为例，如果用两个字节来标识中文，除去 ASCII 原生的 127 位之外，理论上剩余的 256 * 256 - 127 = 65408 位都可以用来表示中文。这种编码方式就是我们熟悉的 GB2312，全称为《《信息交换用汉字编码字符集·基本集》》，由于是 1980 年提出的，因此又被称为 GB2312-80。</p>
<blockquote>
<p>GB 2312标准共收录6763个汉字，其中一级汉字3755个，二级汉字3008个；同时收录了包括拉丁字母、希腊字母、日文平假名及片假名字母、俄语西里尔字母在内的682个字符。<br>GB 2312的出现，基本满足了汉字的计算机处理需要，它所收录的汉字已经覆盖中国大陆99.75%的使用频率。但对于人名、古汉语等方面出现的罕用字和繁体字，GB 2312不能处理，因此后来GBK及GB 18030汉字字符集相继出现以解决这些问题。</p>
</blockquote>
<p>摘自<a href="https://zh.wikipedia.org/wiki/GB_2312" target="_blank" rel="external">维基百科中文</a>，在教育部语言信息文字管理司的网页中可以下载到<a href="http://www.moe.edu.cn/s78/A19/yxs_left/moe_810/s230/201206/t20120601_136847.html" target="_blank" rel="external">电子版</a>的 GB2312 标准。</p>
<p>虽然 GB2312 使用了两个字节表示中文，但是并没有如我们预期的一样能表示60000+的汉字，这是因为在 GB2312 的标准中每个汉字及符号以两个字节来表示。第一个字节称为“高位字节”，第二个字节称为“低位字节”。“高位字节”使用了0xA1–0xF7（把01–87区的区号加上0xA0），“低位字节”使用了0xA1–0xFE（把01–94加上0xA0）。能够表示 7000+ 的字符。对于一些生僻字和繁体字则不在 GB2312 的标准内。</p>
<p>GB2312 从发布后没有进行过修订，而是针对需要修订的内容提出了新的字符集，其中最有名的就是 GBK，全称为《汉字内码扩展规范(GBK)》1.0版。</p>
<blockquote>
<p>由于GB 2312-80只收录6763个汉字，有不少汉字，如部分在GB 2312-80推出以后才简化的汉字（如“啰”），部分人名用字（如中国前总理朱镕基的“镕”字），台湾及香港使用的繁体字，日语及朝鲜语汉字等，并未有收录在内。于是厂商微软利用GB 2312-80未使用的编码空间，收录GB 13000.1-93全部字符制定了GBK编码。</p>
</blockquote>
<p>GBK是对GB2312-80的扩展，并向下兼容 GB2312。</p>
<p>需要注意的一点是GBK并不是国家标准，只是“技术规范指导性文件”，据说当时我国推出了建议性标准gb13000，建议微软采用该标准。但是微软为了取得垄断市场的地位，自己搞了一套中文编码标准，也就是GBK，win95上就采用了GBK，随着office和windows的普及，GBK已经占有了很大的市场份额，国家不得不默认了GBK的存在，这也就是为什么GBK不是国家标准的原因。</p>
<p>从此之后，程序员经常说的一句话就是：“一个汉字两个字节”</p>
<p>最后，感谢朱总理</p>
<h2 id="3-Unicode"><a href="#3-Unicode" class="headerlink" title="3.Unicode"></a>3.Unicode</h2><h3 id="3-1-历史"><a href="#3-1-历史" class="headerlink" title="3.1 历史"></a>3.1 历史</h3><p>虽然我们用GBK解决了中文的问题，但是世界上每种文字都搞了一套类似于GBK的编码方案。那么就会造成了互相无法识别的情况。</p>
<p>于是，一个叫做 ISO（International Organization for Standardization，国际标准化组织） 的机构制定了一套USC（Universal Character Set，通用字符集），也被称为 ISO 10646（或称ISO/IEC 10646）</p>
<blockquote>
<p>UCS包含了已知语言的所有字符。除了拉丁语、希腊语、斯拉夫语、希伯来语、阿拉伯语、亚美尼亚语、格鲁吉亚语，还包括中文、日文、韩文这样的方块文字，UCS还包括大量的图形、印刷、数学、科学符号。</p>
</blockquote>
<p>同时有另外一个组织也在做同样的事情，Xerox、Apple等软件制造商创立的<a href="https://zh.wikipedia.org/wiki/%E7%B5%B1%E4%B8%80%E7%A2%BC%E8%81%AF%E7%9B%9F" target="_blank" rel="external">统一码联盟</a>。</p>
<p>在1991年的时候，这两个组织意识到了，并不需要两种单一字符集，因此开始在一起合并，共享工作成果，共同制定唯一的单一字符集 <a href="https://zh.wikipedia.org/zh-sg/Unicode" target="_blank" rel="external">Unicode</a>。1991年推出Unicode1.0，其中不包含CJK字符集，1993年推出了Unicode1.1，把CJK字符集纳入其中。</p>
<blockquote>
<p>Unicode（中文：万国码、国际码、统一码、单一码）是计算机科学领域里的一项业界标准。它对世界上大部分的文字系统进行了整理、编码，使得电脑可以用更为简单的方式来呈现和处理文字。</p>
</blockquote>
<p>Unicode 是一个不断演变和发展的字符集，截止到本文撰写时（2017.8），Unicode 最新版为<a href="http://www.unicode.org/versions/Unicode10.0.0/" target="_blank" rel="external">10.0</a>版本。 </p>
<h3 id="3-2-编码方式"><a href="#3-2-编码方式" class="headerlink" title="3.2 编码方式"></a>3.2 编码方式</h3><p>目前 Unicode 分为17组编码（平面），每组编码为16位，也就是用于65536个字符。第一组（0号平面）被称为基本多文种平面（Basic Multilingual Plane，简称BMP），表示从U+0000至U+FFFF，剩余16组被称为辅助平面，这些辅助平面中仅使用了少数平面</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fiku5mr6oqj316q0fewkp.jpg" alt=""></p>
<p>从上表中，我们可以看到，Unicode 17个平面表示从U+0000至U+10FFFF，一共占据了21位的编码空间，也就是2个多字节，不到3个字节。Unicode 未来的版本计划扩充到32位，也就是占据4个字节的空间，这将覆盖所有语言和符号。</p>
<h3 id="3-3-实现方式"><a href="#3-3-实现方式" class="headerlink" title="3.3 实现方式"></a>3.3 实现方式</h3><p>Unicode 除了编码方式之外还有另外一个概念：实现方式。对于一个固定的字符，其 Unicode 的编码是不会改变的，但是实现方式在传输过程中会因为不同系统平台的设计和节省空间的考虑，有所不同。Unicode 编码的实现方式也被称为Unicode转换格式（Unicode Transformation Format），也就是我们熟悉的 UTF。</p>
<p>上面讲了Unicode的0号平面是从0x0000到0xFFFF，一共占有16位也就是2个字节，那么对于一个ascii码来说，它仅有7位，如果仍然用2个字节的Unicode来表示，明显会浪费了至少9位的空间。针对这种问题，Unicode 提出了 UTF-8，这是一种可变长度的 Unicode 编码的<strong>实现方式</strong>。也就是说 Unicode 的编码是唯一的，但是如何存储二进制编码，则可以根据不同的实现方式，灵活设计，达到节省空间的目的。其中最著名也是最流行的实现方式就是 UTF-8 和 UTF-16（分为大序端和小序端）</p>
<h3 id="3-4-UTF-8"><a href="#3-4-UTF-8" class="headerlink" title="3.4 UTF-8"></a>3.4 UTF-8</h3><p>首先需要记住，无论是UTF-8还是UTF-16，都只是Unicode的一种实现方式而已。<a href="https://zh.wikipedia.org/wiki/UTF-8" target="_blank" rel="external">维基百科中文版</a>的定义如下：</p>
<blockquote>
<p>UTF-8（8-bit Unicode Transformation Format）是一种针对Unicode的可变长度字符编码，也是一种前缀码。它可以用来表示Unicode标准中的任何字符，且其编码中的第一个字节仍与ASCII兼容，这使得原来处理ASCII字符的软件无须或只须做少部分修改，即可继续使用。因此，它逐渐成为电子邮件、网页及其他存储或发送文字的应用中，优先采用的编码。</p>
</blockquote>
<p>UTF-8使用1-4个字节为 Unicode 编码，编码规则及所占空间如下表所示：</p>
<table>
<thead>
<tr>
<th>char</th>
<th>size</th>
<th>Unicode </th>
</tr>
</thead>
<tbody>
<tr>
<td>ascii</td>
<td>1个字节</td>
<td>U+0000至U+007F</td>
</tr>
<tr>
<td>附加符号的拉丁文、希腊文、西里尔字母、亚美尼亚语、希伯来文、阿拉伯文、叙利亚文及它拿字母</td>
<td>2个字节</td>
<td>U+0800至U+FFFF</td>
</tr>
<tr>
<td>BMP（0号平面）中的其他字符（大部分中文）</td>
<td>3个字节</td>
<td>U+0800至U+FFFF</td>
</tr>
<tr>
<td>极少使用的辅助平面内的字符</td>
<td>4个字节</td>
<td>U+10000至U+1FFFFF</td>
</tr>
</tbody>
</table>
<h4 id="UTF-8编码"><a href="#UTF-8编码" class="headerlink" title="UTF-8编码"></a>UTF-8编码</h4><blockquote>
<p>   •    对于UTF-8编码中的任意字节B，如果B的第一位为0，则B独立的表示一个字符(ASCII码)；<br>    •    如果B的第一位为1，第二位为0，则B为一个多字节字符中的一个字节(非ASCII字符)；<br>    •    如果B的前两位为1，第三位为0，则B为两个字节表示的字符中的第一个字节；<br>    •    如果B的前三位为1，第四位为0，则B为三个字节表示的字符中的第一个字节；<br>    •    如果B的前四位为1，第五位为0，则B为四个字节表示的字符中的第一个字节；</p>
</blockquote>
<p><strong>Unicode 与 UTF-8 的转换关系</strong></p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fin5qxb3z0j31bc0aitd0.jpg" alt=""></p>
<p>首先如果字符是在ascii码的范围内，其UTF-8的编码以一个字节表示，全部以0开头，剩余7位以ascii码补全即可。以a为例，ascii码为97（1100001），对应的 UTF-8编码为01100001</p>
<p>剩余其他字符，也就是非单字节，则第一个字节的首位会以1开头，有多少个字节则会有多少个1，并伴随一个0，其他字节则以10开头。例如3字节，那么首字节以1110开头，第二个字节和第三个字节则以10开头。4字节，首字节以11110开头，第二、三、四字节仍然以10开头。</p>
<p>以中文“尚德”的“尚”字举例，对于UTF-8，大部分中文都是3个字节，那么就是1110xxxx 10xxxxxx 10xxxxxx 的形式。“尚”字的 Unicode是\u5c1a（101 1100 0001 1010），把其从后向前依次填充到 UTF-8 的编码中，不足的以0补齐，得到的“尚”字的 UTF-8 编码即为 11100101 10110000 10011010，十六进制为c5b09a，一共三个字节。</p>
<p>如何使用js获得一个字符的utf-8编码呢？最简单的方式就是使用encodeURIComponent，这是因为根据 URI 的规范，查询参数必须是UTF-8编码，这也就是为什么我们需要对get请求中的中文参数做encodeURIComponent处理。而javascript是基于Unicode编码的UTF-16来实现的，因此浏览器为我们提供了这样一个方法，能够把中文转换成UTF-8，只不过每个字节之间用%分割。</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">encodeURIComponent(<span class="string">'尚'</span>) //<span class="string">"%E5%B0%9A"</span></span><br></pre></td></tr></table></figure>
<h3 id="3-5-UTF-16"><a href="#3-5-UTF-16" class="headerlink" title="3.5 UTF-16"></a>3.5 UTF-16</h3><p>如我们在介绍UTF-8时说提到的，UTF-16也是Unicode的一种实现。<a href="https://zh.wikipedia.org/wiki/UTF-16" target="_blank" rel="external">维基百科中文版</a>的定义如下：</p>
<blockquote>
<p>UTF-16是Unicode字符编码五层次模型的第三层：字符编码表（Character Encoding Form，也称为”storage format”）的一种实现方式。即把Unicode字符集的抽象码位映射为16位长的整数（即码元）的序列，用于数据存储或传递。Unicode字符的码位，需要1个或者2个16位长的码元来表示，因此这是一个变长表示。</p>
</blockquote>
<p>首先我们需要知道一点，在0号平面（U+0000 - U+FFFF）中，从U+D800到U+DFFF是保留位，不会用来表示任何的Unicode，而UTF-16正是利用这2048个保留位来进行编码。</p>
<p>UTF-16 与 UTF-8 不同，UTF-8是可变长度的，而UTF-16则结合了可变长度编码与不可变长度编码</p>
<h4 id="UTF-16编码"><a href="#UTF-16编码" class="headerlink" title="UTF-16编码"></a>UTF-16编码</h4><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fioxjkol5pj30g902sq3h.jpg" alt=""></p>
<p><strong>BMP/0号平面</strong></p>
<p>BMP是从U+0000到U+FFFF，除去我们上面提到的保留位（U+D800到U+DFFF），其余从U+0000至U+D7FF以及从U+E000至U+FFFF，都是直接使用Unicode编码。</p>
<p>也就是说，在BMP的字符，其UTF-16编码占2位</p>
<p><strong>辅助平面</strong></p>
<p>从从U+10000到U+10FFFF都被认为是辅助平面，对于辅助平面中的字符，UTF-16将会把其编码为一堆16比特长的码元，也就是4个字节，被称为代理对。</p>
<p>具体算法如下：</p>
<ul>
<li>step1: Unicode 减去0x10000，辅助平面的范围变为U+00000到U+FFFFF，从21位变为20位</li>
<li>step2：对这20个字节，高10位的（Unicode范围：U+400 - U+FFFF，值的范围：0x0000 - 0x3FF）加0xD800，得到的新码位被称为高位代理或者前导代理，Unicode范围是U+D800到U+DBFF</li>
<li>step3：20个字节中，低10位的（Unicode范围：U+0000 - U+3FF，值的范围：0x0000 - 0x3FF）加0xDC00，得到的新码位被称为低位代理或者后尾代理，Unicode范围是U+DC00到U+DFFF</li>
<li>把高位代理和低位代理组合在一起，Unicode范围是U+D800到U+DFFF，也就是BMP中的保留位，UTF-16也就是使用这2048个码位进行编码的</li>
</ul>
<p>Unicode 3.0 给出了一个用于计算落在辅助平面字符的UTF-16编码的公式：</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H = Math.floor<span class="comment">((c-0x10000)</span> / <span class="number">0</span>x<span class="number">400</span>)<span class="number">+0</span>xD<span class="number">800</span> <span class="comment">// 前导代理</span></span><br><span class="line">L = = <span class="comment">(c - 0x10000)</span> <span class="meta">%</span> <span class="number">0</span>x<span class="number">400</span> + <span class="number">0</span>xDC<span class="number">00</span> <span class="comment">// 后尾代理</span></span><br></pre></td></tr></table></figure>
<p>例如U+10437编码（𐐷）:</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H = Math.floor((<span class="number">0x10437</span>-<span class="number">0x10000</span>) / <span class="number">0</span>x400)+<span class="number">0</span>xD800 = <span class="number">0</span>xD801</span><br><span class="line">L = (<span class="number">0x10437</span> - <span class="number">0x10000</span>) % <span class="number">0</span>x400 + <span class="number">0</span>xDC00 = <span class="number">0</span>xDC37</span><br></pre></td></tr></table></figure>
<p>把H和L拼在一起得到UTF-16编码为D801 DC37</p>
<p>下面的表总结了几种字符如何编码到UTF-16，绿色代表前导代理，蓝色代表后尾代理，黑色表示编码过程中加入的附加码</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fioxil47vhj30sc05175v.jpg" alt=""></p>
<h4 id="字节顺序"><a href="#字节顺序" class="headerlink" title="字节顺序"></a>字节顺序</h4><p>UTF-16的分类有两种，分别对应的是UTF-16BE 和 UTF-16LE。</p>
<p>UTF-16BE 也被称为大端序，其编码与UTF-16一致。UTF-16LE被称为小端序，其编码与UTF-16是倒序的。比如U+0024的UTF-16编码为0024，UTF-16BE为00 24 为UTF-16LE则为24 00。那么到底是什么决定了字节顺序呢？首先让我们了解一下什么是字节顺序，<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82%E5%BA%8F" target="_blank" rel="external">维基百科中文版</a>定义如下：</p>
<blockquote>
<p>在几乎所有的机器上，多字节对象都被存储为连续的字节序列。例如在C语言中，一个类型为int的变量x地址为0x100，那么其对应地址表达式&amp;x的值为0x100。且x的四个字节将被存储在存储器的0x100, 0x101, 0x102, 0x103位置。[1]<br>而存储地址内的排列则有两个通用规则。一个多位的整数将按照其存储地址的最低或最高字节排列。如果最低有效位在最高有效位的前面，则称小端序；反之则称大端序。在网络应用中，字节序是一个必须被考虑的因素，因为不同机器类型可能采用不同标准的字节序，所以均按照网络标准转化。</p>
</blockquote>
<p>为什么会被称为端（endian）呢？</p>
<blockquote>
<p>“endian”一词来源于十八世纪爱尔兰作家乔纳森·斯威夫特（Jonathan Swift）的小说《格列佛游记》（Gulliver’s Travels）。小说中，小人国为水煮蛋该从大的一端（Big-End）剥开还是小的一端（Little-End）剥开而争论，争论的双方分别被称为“大端派”和“小端派”。以下是1726年关于大小端之争历史的描述：<br>   我下面要告诉你的是，Lilliput和Blefuscu这两大强国在过去36个月里一直在苦战。战争开始是由于以下的原因：我们大家都认为，吃鸡蛋前，原始的方法是打破鸡蛋较大的一端，可是当今皇帝的祖父小时候吃鸡蛋，一次按古法打鸡蛋时碰巧将一个手指弄破了。因此他的父亲，当时的皇帝，就下了一道敕令，命令全体臣民吃鸡蛋时打破鸡蛋较小的一端，违令者重罚。老百姓们对这项命令极其反感。历史告诉我们，由此曾经发生过6次叛乱，其中一个皇帝送了命，另一个丢了王位。这些叛乱大多都是由Blefuscu的国王大臣们煽动起来的。叛乱平息后，流亡的人总是逃到那个帝国去寻求避难。据估计，先后几次有11000人情愿受死也不肯去打破鸡蛋较小的一端。关于这一争端，曾出版过几百本大部著作，不过大端派的书一直是受禁的，法律也规定该派任何人不得做官。”<br>1980年，丹尼·科恩（Danny Cohen），一位网络协议的早期开发者，在其著名的<a href="https://zh.wikipedia.org/wiki/%E8%AE%BA%E6%96%87" target="_blank" rel="external">论文</a>“On Holy Wars and a Plea for Peace”中，为平息一场关于字节该以什么样的顺序传送的争论，而第一次引用了该词。</p>
</blockquote>
<ul>
<li>BE示例</li>
</ul>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fioyejfza0j307301yaa2.jpg" alt=""></p>
<p>最高位字节0x0A被存储在最低的内存地址中</p>
<ul>
<li>LE示例</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fioyfw8cf7j307901laa1.jpg" alt=""></p>
<p>最低位字节0x0D储存在最低的内存地址中</p>
<p><strong>网络序</strong></p>
<p>网络传输中，一般都选择大端序BE，这被称为网络序。IP协议中定义为BE为网络字节序。</p>
<h2 id="4-JavaScript-编码"><a href="#4-JavaScript-编码" class="headerlink" title="4.JavaScript 编码"></a>4.JavaScript 编码</h2><h3 id="4-1-UCS"><a href="#4-1-UCS" class="headerlink" title="4.1 UCS"></a>4.1 UCS</h3><p>我们在3.1小节关于Unicode的历史中，曾经提到过UCS是由国际标准化组织（ISO）创建的，与苹果等公司创建的Unicode互相兼容。两者独立存在并公布各自的标准，但是两者是互相兼容的，ISO也承诺UCS将不会替超出U+10FFFF的UCS-4编码赋值，以使得两者保持一致。</p>
<p>UCS分为UCS-2和UCS-4.</p>
<ul>
<li>UCS-2对应Unicode中的UTF-16编码，UCS-2是UTF-16的字节，对应0号平面的UTF-16编码，小于0x10000的UCS码，UTF-16编码就等于UCS码，UCS-2占有2位字节</li>
<li>UCS-4对应Unicode中的UTF-32编码，最大可以编码到7FFFFFFF，UCS-4占有32位字节</li>
</ul>
<p>JavaScript的字符集是Unicode，并采用了UCS-2的编码方式，也就是双字节UTF-16，除了保留为U+D800到U+DFFF直接使用Unicode编码。这导致JavaScript在识别多于两个字节字符（辅助平面字符）的时候，会把该字符当成两个双字节字符处理。</p>
<h3 id="4-2-String-API"><a href="#4-2-String-API" class="headerlink" title="4.2 String API"></a>4.2 String API</h3><ul>
<li>String.fromCharCode 和 String.prototype.charCodeAt</li>
</ul>
<p><strong>String.fromCharCode</strong></p>
<p>如1.ASCII中说介绍，<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode" target="_blank" rel="external">String.fromCharCode</a>会返回指定Unicode所对应的字符</p>
<blockquote>
<p>The static String.fromCharCode() method returns a string created by using the specified sequence of Unicode values.</p>
</blockquote>
<p>但是由于JavaScript采用的是UCS-2编码，因此String.fromCharCode只能返回双字节，对于一些特殊有两个双字节组成的字符，只能处理其后面的双字节</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//双字节字符</span></span><br><span class="line">S<span class="function"><span class="title">tring</span>.fromCharCode(65, 66, 67);  // -&gt;</span> <span class="string">"ABC"</span></span><br><span class="line">S<span class="function"><span class="title">tring</span>.fromCharCode(0x5C1A) // -&gt;</span> <span class="string">"尚"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//两个双字节字符</span></span><br><span class="line"><span class="comment">//0x5C1A Unicode对应的是尚</span></span><br><span class="line"><span class="comment">//0X15C1A Unicode对应的是，但是用String.fromCharCode只能识别后面的双字节，也就是5C1A</span></span><br><span class="line">S<span class="function"><span class="title">tring</span>.fromCharCode(0x15C1A) // -&gt;</span> <span class="string">"尚"</span></span><br><span class="line">S<span class="function"><span class="title">tring</span>.fromCharCode(0x115C1A) // -&gt;</span> <span class="string">"尚"</span></span><br></pre></td></tr></table></figure>
<p><strong>String.prototype.charCodeAt</strong></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt" target="_blank" rel="external">charCodeAt()</a> 方法会返回一个 0 到 65535 整数，表示字符的 UTF-16编码。0 到 65535 对应 Unicode 的 0号平面，在这个范围内，UTF-16与Unicode是一致的。</p>
<p>根据定义我们可以判断，charCodeAt()方法也只能处理双字节，如果超过双字节，那么会被识别为两个字，通过函数签名的索引分别得到两个字符对应的Unicode(UTF-16 0号平面)。</p>
<p>我们以特殊字符’𐌎’为例，’𐌎’的Unicode为U+1030e</p>
<p>根据上面的公式，我们可以计算’𐌎’的UTF-16编码为<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H = Math.floor((<span class="number">0x1030e</span>-<span class="number">0x10000</span>) / <span class="number">0x400</span>)+<span class="number">0xD800</span> = <span class="number">0xd800</span> //前导代理</span><br><span class="line">L = (<span class="number">0x1030e</span> - <span class="number">0x10000</span>) % <span class="number">0x400</span> + <span class="number">0xDC00</span> = <span class="number">0xdf0e</span> //后尾代理</span><br></pre></td></tr></table></figure></p>
<p>如果我们对’𐌎’执行charCodeAt()方法，结果如下：</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'𐌎'</span>.<span class="function"><span class="title">charCodeAt</span>(0).toString(16) // -&gt;</span><span class="number">0</span>xd800</span><br><span class="line"><span class="string">'𐌎'</span>.<span class="function"><span class="title">charCodeAt</span>(1).toString(16) // -&gt;</span> <span class="number">0</span>xdf0e</span><br></pre></td></tr></table></figure>
<p>charCodeAt()把’𐌎’识别为两个字符了</p>
<p><strong>String.fromCodePoint 和 String.prototype.codePointAt</strong></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint" target="_blank" rel="external">String.fromCodePoint</a>是ES6新提供的方法，弥补String.fromCharCode不能识别0xFFFF的问题，识别大于0xFFFF字符</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">S<span class="function"><span class="title">tring</span>.fromCodePoint(0x1030e) // -&gt;</span> <span class="string">"𐌎"</span></span><br><span class="line">S<span class="function"><span class="title">tring</span>.fromCharCode(0x1030e) // -&gt;</span><span class="string">" ̎"</span></span><br><span class="line">S<span class="function"><span class="title">tring</span>.fromCharCode(0x030e) // -&gt;</span><span class="string">" ̎"</span></span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt" target="_blank" rel="external">codePointAt()</a>会返回一个字符的Unicode，无论是双字节字符（0号平面）还是由两个双字节组成的字符（辅助平面）。可以看到codePointAt()是用来弥补charCodeAt()不能识别两个双字节组成的字符，而只能返回该字符的前导代理的问题，</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两个双字节组成的字符</span></span><br><span class="line"><span class="string">'𐌎'</span>.<span class="function"><span class="title">codePointAt</span>().toString(16) // -&gt;</span> <span class="number">0</span>x1030e</span><br><span class="line"><span class="string">'𐌎'</span>.<span class="function"><span class="title">charCodeAt</span>(0).toString(16) // -&gt;</span><span class="number">0</span>xd800</span><br><span class="line"><span class="string">'𐌎'</span>.<span class="function"><span class="title">charCodeAt</span>(1).toString(16) // -&gt;</span> <span class="number">0</span>xdf0e</span><br><span class="line"></span><br><span class="line"><span class="comment">//双字节字符</span></span><br><span class="line"><span class="string">'尚'</span>.<span class="function"><span class="title">codePointAt</span>().toString(16) // -&gt;</span> <span class="number">0</span>x5c1a</span><br><span class="line"><span class="string">'尚'</span>.<span class="function"><span class="title">charCodeAt</span>().toString(16) // -&gt;</span> <span class="number">0</span>x5c1a</span><br></pre></td></tr></table></figure>
<p>注意：使用codePorintAt()处理单个字符没有问题，如</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'𐌎'</span>.<span class="function"><span class="title">codePointAt</span>().toString(16) // -&gt;</span> <span class="number">0</span>x1030e</span><br></pre></td></tr></table></figure>
<p>但是如果是处理字符串，并且字符串中含有两个双字节组成的字符，那么可能会出现bug<br><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//<span class="string">'𐌎尚'</span>两个字符组成了一个字符串，其中第一个字符为<span class="string">'𐌎'</span>，是一个由两个双字节组成的字符。第二个字符为<span class="string">'尚'</span>，是一个双字节字符</span><br><span class="line"></span><br><span class="line">//codePointAt(<span class="number">0</span>)正确取到了<span class="string">'𐌎'</span>的Unicode</span><br><span class="line"><span class="string">'𐌎尚'</span>.codePointAt(<span class="number">0</span>).toString(<span class="number">16</span>) // -&gt; <span class="number">0</span>x1030e</span><br><span class="line"></span><br><span class="line">//codePointAt(<span class="number">1</span>)按照我们的想法，应该取得<span class="string">'尚'</span>的Unicode，但实际取的是<span class="string">'𐌎'</span>第二个双字节字符的Unicode，<span class="string">'𐌎'</span>.charCodeAt(<span class="number">1</span>).toString(<span class="number">16</span>) // -&gt; <span class="number">0</span>xdf0e</span><br><span class="line"><span class="string">'𐌎尚'</span>.codePointAt(<span class="number">1</span>).toString(<span class="number">16</span>) // -&gt; <span class="number">0</span>xdf0e</span><br><span class="line"></span><br><span class="line">//codePointAt(<span class="number">2</span>)取得<span class="string">'尚'</span>的Unicode</span><br><span class="line"><span class="string">'𐌎尚'</span>.codePointAt(<span class="number">2</span>).toString(<span class="number">16</span>) // -&gt; <span class="number">0</span>x5c1a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//<span class="string">'尚德'</span>两个字符组成了一个字符串，其中第一个字符<span class="string">'尚'</span>和第二个<span class="string">'德'</span>都是双字节字符</span><br><span class="line">//<span class="string">'尚'</span>.codePointAt().toString(<span class="number">16</span>) = <span class="number">0</span>x5c1a</span><br><span class="line"><span class="string">'尚德'</span>.codePointAt(<span class="number">0</span>).toString(<span class="number">16</span>) // -&gt; <span class="number">0</span>x5c1a</span><br><span class="line">//<span class="string">'德'</span>.codePointAt().toString(<span class="number">16</span>) = <span class="number">0</span>x5fb7</span><br><span class="line"><span class="string">'尚德'</span>.codePointAt(<span class="number">1</span>).toString(<span class="number">16</span>) // -&gt; <span class="number">0</span>x5fb7</span><br></pre></td></tr></table></figure></p>
<h3 id="4-3-其他"><a href="#4-3-其他" class="headerlink" title="4.3 其他"></a>4.3 其他</h3><h4 id="4-3-1-正则表达式"><a href="#4-3-1-正则表达式" class="headerlink" title="4.3.1 正则表达式"></a>4.3.1 正则表达式</h4><p>正则表达式中使用Unicode，必须使用\u开头，后面跟四位16进制的Unicode码。</p>
<p><strong>判断是否是中文</strong></p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 判断是否是中文</span><br><span class="line">// 标准CJK中文范围：<span class="symbol">\u</span>3400-<span class="symbol">\u</span>4DB5,<span class="symbol">\u</span>4E00-<span class="symbol">\u</span>9FA5,<span class="symbol">\u</span>9FA6-<span class="symbol">\u</span>9FBB,<span class="symbol">\u</span>F900-<span class="symbol">\u</span>FA2D,<span class="symbol">\u</span>FA30-<span class="symbol">\u</span>FA6A,<span class="symbol">\u</span>FA70-<span class="symbol">\u</span>FAD9，除了<span class="symbol">\u</span>4E00-<span class="symbol">\u</span>9FA5都是非常用中文，参考http://www.unicode.org/Public/5.0.0/ucd/Unihan.html</span><br><span class="line">// 一般情况下，都会使用u4E00-u9FA5来判断</span><br><span class="line">/[<span class="symbol">\u</span>4E00-<span class="symbol">\u</span>9FA5]/.test('尚')</span><br><span class="line"></span><br><span class="line">// 也可以扩大范围，把CJK兼容象形文字包括进去</span><br><span class="line">/[<span class="symbol">\u</span>4E00-<span class="symbol">\u</span>9FA5<span class="symbol">\u</span>F900-<span class="symbol">\u</span>FA2D]/.test('尚')</span><br></pre></td></tr></table></figure>
<p><strong>u 修饰符</strong><br>ES6中添加了u修饰符，与 codePointAt 和 fromCodePoin 类似，都是用来处理由两个双字节组成的字符。如我们上面的例子，’𐌎’是由\ud800和\udf0e组成的，如果在传统的ES5中，并不能把’𐌎’识别为一个字符，而会识别成两个字符。这可能会造成下面的错误</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这是不对的\ud800\udf0e应该表示的是'𐌎'，是一个字符</span></span><br><span class="line"><span class="comment">// 但是ES5中会把其识别成两个字符</span></span><br><span class="line"><span class="regexp">/\ud800/</span>.test(<span class="string">'\ud800\udf0e'</span>) <span class="comment">// -&gt; true</span></span><br></pre></td></tr></table></figure>
<p>在ES6中通过u修饰符，可以在正则表示中把其识别为一个字符</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/\ud800/u</span>.test(<span class="string">'\ud800\udf0e'</span>) <span class="comment">// -&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// '𐌎'.codePointAt().toString(16) = 0x1030e</span></span><br><span class="line"><span class="regexp">/\u&#123;1030e&#125;/u</span>.test(<span class="string">'𐌎'</span>) <span class="comment">// -&gt; true</span></span><br></pre></td></tr></table></figure>
<h4 id="4-3-2-URL"><a href="#4-3-2-URL" class="headerlink" title="4.3.2 URL"></a>4.3.2 URL</h4><p>URL 作为访问地址或者method为get类型的异步请求参数，如果出现中文的话，都需要进行转码。原因我们在上面提过，根据 URI 的规范，查询参数必须是UTF-8编码，而javascript是基于Unicode编码的UCS-2来实现的。浏览器为我们提供了这样一个方法，能够把中文转换成UTF-8，只不过每个字节之间用%分割。</p>
<p>当URL作为访问地址时，浏览器会自动帮我们进行转义，例如我们在浏览器输入框中直接输入<code>https://zh.wikipedia.org/wiki/通用字符集</code>，我们可以看到浏览器会直接访问对应页面，并且浏览器中的地址不会发生改变，打开开发者工具，从Network中发现，实际发出的请求为<code>https://zh.wikipedia.org/wiki/%E9%80%9A%E7%94%A8%E5%AD%97%E7%AC%A6%E9%9B%86</code>。</p>
<figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 对<span class="string">'通用字符集'</span>这五个汉字进行UTF-<span class="number">8</span>编码求职</span><br><span class="line"><span class="string">'通'</span> -&gt; E9809A</span><br><span class="line"><span class="string">'用'</span> -&gt; E794A8</span><br><span class="line"><span class="string">'字'</span> -&gt; E5AD97</span><br><span class="line"><span class="string">'符'</span> -&gt; E7ACA6</span><br><span class="line"><span class="string">'集'</span> -&gt; E99B86</span><br></pre></td></tr></table></figure>
<p>当method为get的异步请求的参数中带有中文时，需要手动调用encodeURIComponent方法把中文编码为UTF-8。</p>
<p>jQuery 的代码中在处理ajax参数的时候，会自动把参数做encodeURIComponent处理</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">jQuery.param = <span class="function"><span class="keyword">function</span><span class="params">( a, traditional )</span></span> &#123;</span><br><span class="line">	var prefix,</span><br><span class="line">		s = [],</span><br><span class="line">		add = <span class="function"><span class="keyword">function</span><span class="params">( key, value )</span></span> &#123;</span><br><span class="line"></span><br><span class="line">			// <span class="keyword">If</span> <span class="keyword">value</span> is a <span class="function"><span class="keyword">function</span></span>, invoke it and <span class="keyword">return</span> its <span class="keyword">value</span></span><br><span class="line">			<span class="keyword">value</span> = jQuery.isFunction( <span class="keyword">value</span> ) ? <span class="keyword">value</span>() : ( <span class="keyword">value</span> == null ? <span class="string">""</span> : <span class="keyword">value</span> );</span><br><span class="line">			s[ s.length ] = encodeURIComponent( key ) + <span class="string">"="</span> + encodeURIComponent( <span class="keyword">value</span> );</span><br><span class="line">		&#125;;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>1、<a href="https://zh.wikipedia.org/wiki/%E9%80%9A%E7%94%A8%E5%AD%97%E7%AC%A6%E9%9B%86" target="_blank" rel="external">通用字符集</a></p>
<p>2、<a href="https://zh.wikipedia.org/wiki/Unicode" target="_blank" rel="external">Unicode</a></p>
<p>3、<a href="https://zh.wikipedia.org/wiki/UTF-16" target="_blank" rel="external">UTF-16</a></p>
<p>4、<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82%E5%BA%8F" target="_blank" rel="external">字节序</a></p>
<p>5、<a href="http://ju.outofmemory.cn/entry/53571" target="_blank" rel="external">关于unicode汉字范围正则的写法</a></p>
<p>6、<a href="http://www.ruanyifeng.com/blog/2010/02/url_encoding.html" target="_blank" rel="external">关于URL编码</a></p>
<p>7、<a href="http://www.ruanyifeng.com/blog/2014/12/unicode.html" target="_blank" rel="external">Unicode与JavaScript详解</a></p>
<p>8、<a href="http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html?20151227141854" target="_blank" rel="external">字符编码笔记：ASCII，Unicode和UTF-8</a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2017/08/25/编码到底怎么回事/" data-id="cj6rf693b000ni9fy1h2c5wx8" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2017/08/25/编码到底怎么回事/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2017/08/25/编码到底怎么回事/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-ES7和ES8特性" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2017/02/09/ES7和ES8特性/">ES7和ES8特性.md</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/02/09/ES7和ES8特性/">
            <time datetime="2017-02-09T04:07:19.000Z" itemprop="datePublished">2017-02-09</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/es7/">es7</a>, <a class="tag-link" href="/tags/es8/">es8</a>, <a class="tag-link" href="/tags/js/">js</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>原文出处：<a href="https://node.university/blog/498412/es7-es8" target="_blank" rel="external">https://node.university/blog/498412/es7-es8</a></p>
<p>最近我为ES6/ES2015写了一篇<a href="https://webapplog.com/es6/" target="_blank" rel="external">博客</a>，并做了一个<a href="https://node.university/p/es6" target="_blank" rel="external">在线教程</a>。你猜怎么着，TC39（译者注：TC39是Javascript技术进化委员会）已经设计并推进ES8了，因此让我们来搞清楚ES7和ES8（官方说法是ES2016和ES2017）。幸运的是，与ES6相比，ES7和ES8的内容相当少。其中ES7仅仅新增了两个新特性！</p>
<p>ES7新特性</p>
<ol>
<li><code>Array.prototype.includes</code></li>
<li>幂运算符</li>
</ol>
<p><img src="https://ww1.sinaimg.cn/large/006tNc79ly1fcgu138drlj30qo0f5mzg.jpg" alt=""></p>
<p>截止到本文发出（2017年2月），ES8标准仍然没有定稿。但是我们仍然可以学习已天完成的（stage 4）和大部分处于候选阶段（stage 3）的特性（关于stage，可以参考<a href="https://tc39.github.io/process-document/" target="_blank" rel="external">TC39 Process</a>，以及我的<a href="https://node.university/p/es6。译者注：TC39把所有的提案分为了5个阶段，从0到4。stage 0：提出，stage 1：建议，stage 2：草案，stage 3：候选，stage 4：完成" target="_blank" rel="external">课程</a>）。目前已经完成的（stage 4）ES8新特性有：</p>
<ol>
<li><code>Object.values/Object.entries</code></li>
<li>字符串 padding</li>
<li><code>Object.getOwnPropertyDescriptors</code></li>
<li>Trailing commas in function parameter lists and calls</li>
<li>异步函数</li>
</ol>
<p>我并没有把处于stage 3的ES8新特性列出来，如果你有兴趣可以查看<a href="https://github.com/tc39/proposals/blob/master/README.md" target="_blank" rel="external">从0到3所有的提案</a>。</p>
<p>接下来，让我们看看这些新特性吧。</p>
<hr>
<h1 id="Array-prototype-includes"><a href="#Array-prototype-includes" class="headerlink" title="Array.prototype.includes"></a><code>Array.prototype.includes</code></h1><p>自从有了<code>Array.prototype.includes</code>，世界变得如此美好。在没有<code>Array.prototype.includes</code>，开发人员使用<code>indexOf</code>（<code>indexOf</code>也是从IE10开始完全支持的，IE9都是部分支持）来判断数组中是否包含某一个值，这其实并不是很合适，甚至有些尴尬的，因为ES6中<code>indexOf</code>返回的是值在数组中的索引，是一个整形数值而非布尔值，如果值并没有在数组中出现，那么则返回<code>-1</code>。开发者如果想使用<code>indexOf</code>来判断数组是否包含该值，还需要写额外的代码需要，而不能直接使用<code>indexOf</code>运算的结果来判断，因为当不包含值时返回的索引-1会被js认为是<code>true</code>，而如果值是在数组的第一位返回的索引0则会被js认为是<code>false</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'react'</span>, <span class="string">'angular'</span>, <span class="string">'vue'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// WRONG</span></span><br><span class="line"><span class="keyword">if</span> (arr.indexOf(<span class="string">'react'</span>)) &#123; <span class="comment">// 0 -&gt; evaluates to false, definitely as we expected</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Can use React'</span>) <span class="comment">// this line would never be executed</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Correct</span></span><br><span class="line"><span class="keyword">if</span> (arr.indexOf(<span class="string">'react'</span>) !== <span class="number">-1</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Can use React'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果觉得对-1的判断有些不优雅，还可以使用位判断符—按位非<code>~</code>。<code>~</code>会对返回的索引做<code>-(index + 1</code>)的处理。0会变成-1，1会变成-2，2会变成-3，而-1会变成0。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'react'</span>, <span class="string">'angular'</span>, <span class="string">'vue'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// Correct</span></span><br><span class="line"><span class="keyword">if</span> (~arr.indexOf(<span class="string">'react'</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Can use React'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果使用ES7的<code>includes</code>，只需要这么写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'react'</span>, <span class="string">'angular'</span>, <span class="string">'vue'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// Correct</span></span><br><span class="line"><span class="keyword">if</span> (arr.includes(<span class="string">'react'</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Can use React'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>includes</code>还支持String类型</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">str</span> = <span class="symbol">'React</span> Quickly'</span><br><span class="line"></span><br><span class="line"><span class="comment">// Correct</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">str</span>.toLowerCase().includes(<span class="symbol">'react</span>')) &#123;  <span class="comment">// true</span></span><br><span class="line">  console.log(<span class="symbol">'Found</span> <span class="string">"react"</span>')  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有趣的是，在<code>includes</code>没有成为标准之前，已经有很多JavaScript的库实现了同样的功能，取名为<code>includes</code>或者<code>contains</code>（TC39在取名时，因为<a href="https://esdiscuss.org/topic/having-a-non-enumerable-array-prototype-contains-may-not-be-web-compatible" target="_blank" rel="external">不可枚举的原因</a>，没有采用<code>contains</code>）</p>
<ul>
<li>jQuery: <code>$.inArray</code></li>
<li>Underscore.js: <code>_.contains</code></li>
<li>Lodash: <code>_.includes</code> (在3.0版本之前，与Underscore一样使用的是 <code>_.contains</code>，译者注：毕竟Lodash是从Underscore fork出来的)</li>
<li>CoffeeScript: <code>in</code>操作符（<a href="http://coffeescript.org/#try:arr = [&#39;react&#39;," title="angular&#39;, &#39;vue&#39;]%0Aif (&#39;react&#39; in arr)%0A  console.log(&#39;Can use React" target="_blank" rel="external">例子</a>%0A)）</li>
<li>Dart: <code>list.contains</code>（<a href="https://gist.github.com/anonymous/b8e39109e5705a9a0ff7281c1af97195" target="_blank" rel="external">例子</a>）</li>
</ul>
<p><code>includes</code>还能够识别<code>NAN</code>，这是<code>indexOf</code>所不具备的。最后，<code>includes</code>还有第二个可选参数<code>fromIndex</code>，标识从哪个索引开始检索，这将会提升执行性能。</p>
<p>例子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">2</span>)) <span class="comment">// === true)</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">4</span>)) <span class="comment">// === false)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="literal">NaN</span>].includes(<span class="literal">NaN</span>)) <span class="comment">// === true)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">-0</span>].includes(+<span class="number">0</span>)) <span class="comment">// === true)</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, +<span class="number">0</span>].includes(<span class="number">-0</span>)) <span class="comment">// === true)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].includes(<span class="string">'a'</span>)) <span class="comment">// === true)</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].includes(<span class="string">'a'</span>, <span class="number">1</span>)) <span class="comment">// === false)</span></span><br></pre></td></tr></table></figure>
<p>总而言之，<code>includes</code>简化了我们的开发，这不是很好吗！</p>
<h1 id="幂运算符"><a href="#幂运算符" class="headerlink" title="幂运算符"></a>幂运算符</h1><p>幂运算符在3D、VR、SVG或者数据可视化领域的数学运算被广泛应用。在ES6和更早的时候，要进行幂运算，我们可以创建一个递归函数，或者使用<code>Math.power</code>方法。如果你忘了幂运算符是什么，幂运算符就是多个相同的因数相乘，比如7的3次幂，就是<code>7*7*7</code>。</p>
<p>因此在ES6/ES2015中，使用<code>Math.power</code>或者递归来计算幂运算，如下：</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">calculateExponent = (base, exponent) =&gt; base*((--exponent&gt;<span class="number">1</span>)?calculateExponent(base, exponent):base)</span><br><span class="line">console.log(calculateExponent(7,12) === Math.pow(7,12)) // <span class="keyword">true</span></span><br><span class="line">console.log(calculateExponent(2,7) === Math.pow(2,7)) // <span class="keyword">true</span></span><br></pre></td></tr></table></figure>
<p>在ES7/ES2016中，开发人员可以使用更简短的写法了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">7</span> ** <span class="number">12</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span> ** <span class="number">7</span></span><br><span class="line"><span class="built_in">console</span>.log(a === <span class="built_in">Math</span>.pow(<span class="number">7</span>,<span class="number">12</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(b === <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">7</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>与其他运算符一样，幂运算符也可以使用语法糖来简化写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">7</span></span><br><span class="line">a **= <span class="number">12</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span></span><br><span class="line">b **= <span class="number">7</span></span><br><span class="line"><span class="built_in">console</span>.log(a === <span class="built_in">Math</span>.pow(<span class="number">7</span>,<span class="number">12</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(b === <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">7</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>新的ES特性从其他语言（CoffeeScript，Ruby等等）中借鉴了很多，所以不难猜到，其他语言中也会有幂运算符。</p>
<ul>
<li>Python: <code>x ** y</code></li>
<li>CoffeeScript: <code>x ** y</code></li>
<li>F#: <code>x ** y</code></li>
<li>Ruby: <code>x ** y</code></li>
<li>Perl: <code>x ** y</code></li>
<li>Lua, Basic, MATLAB: <code>x ^ y</code></li>
</ul>
<p>对于我个人来说，没有幂运算符并没有感到不便。:)在我15年的JavaScript开发经验中，我从来没有写过任何幂运算，除了在面试或者教程中。那么对于你来说，没有幂运算符是否会造成很大的麻烦？</p>
<h1 id="Object-values-Object-entries"><a href="#Object-values-Object-entries" class="headerlink" title="Object.values/Object.entries"></a><code>Object.values/Object.entries</code></h1><p>ES8/ES2017中增加了两个新方法<code>Object.values</code>和<code>Object.entries</code>，与<code>Object.keys</code>一样，两个方法返回的都是数组。，数组中元素的排序与<code>Object.keys</code>返回数据的排序一致。</p>
<p><code>Object.values</code>、<code>Object.entries</code>与<code>Object.keys</code>这三个方法，分别返回了对应的key值，value值以及特定格式的键值对数据，并且这些返回时一一对应的。</p>
<p>在ES8/ES2017之前，如果开发者想要遍历对象的自有属性，不得不使用<code>Object.keys</code>先获得自有属性的key值，然后使用<code>obj[key]</code>来得到自有属性的值。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="variable">a:</span> <span class="number">1</span>, <span class="variable">b:</span> <span class="number">2</span>, <span class="keyword">c</span>: <span class="number">3</span>&#125;</span><br><span class="line">Object.<span class="built_in">keys</span>(obj).forEach((key, <span class="built_in">index</span>)=&gt;&#123;</span><br><span class="line">  console.<span class="built_in">log</span>(key, obj[key])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>或者使用ES6/ES2015的<code>for/of</code>会稍微优雅一些</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;a: <span class="number">1</span>, b: <span class="number">2</span>, c: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> <span class="built_in">key</span> of Object.keys(obj)) &#123;</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">key</span>, obj[<span class="built_in">key</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还可以使用ES5的<code>for/in</code>，不过<code>for/in</code>会遍历对象所有可以枚举的属性（比如定义在prototype中的属性，<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of#Difference_between_for...of_and_for...in" target="_blank" rel="external">MDN</a>），而不是自有属性，这将会造成不可预料的问题，比如遍历出了<code>prototype</code>或者<code>toString</code>。</p>
<p><code>Object.values</code>返回对象自有属性的值组成的数组，可以通过forEach来取得值。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;<span class="selector-tag">a</span>: <span class="number">1</span>, <span class="selector-tag">b</span>: <span class="number">2</span>, c: <span class="number">3</span>&#125;</span><br><span class="line">Object.values(obj).forEach(value=&gt;console.log(value)) <span class="comment">// 1, 2, 3</span></span><br></pre></td></tr></table></figure>
<p>或者使用<code>for/of</code></p>
<figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;a: <span class="number">1</span>, b: <span class="number">2</span>, c: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> <span class="keyword">value</span> <span class="keyword">of</span> Object.values(obj)) &#123;</span><br><span class="line">  console.log(<span class="keyword">value</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1, 2, 3</span></span><br></pre></td></tr></table></figure>
<p><code>Object.entries</code>返回对象自有属性的键值对数组组成的二维数组。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;<span class="selector-tag">a</span>: <span class="number">1</span>, <span class="selector-tag">b</span>: <span class="number">2</span>, c: <span class="number">3</span>&#125;</span><br><span class="line">JSON.stringify(Object.entries(obj))</span><br><span class="line"><span class="string">"[["</span>a<span class="string">",1],["</span>b<span class="string">",2],["</span>c<span class="string">",3]]"</span></span><br></pre></td></tr></table></figure>
<p>我们可以使用ES6/ES2015来提取二维数组中的<code>key</code>和<code>value</code>（可以参考这篇<a href="https://webapplog.com/es6/" target="_blank" rel="external">文章</a>或者这个<a href="https://node.university/p/es6" target="_blank" rel="external">教程</a>）。</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;a: <span class="number">1</span>, b: <span class="number">2</span>, c: <span class="number">3</span>&#125;</span><br><span class="line">Object.entries(obj).forEach(<span class="function"><span class="params">([key, value])</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(`<span class="javascript">$&#123;key&#125; is $&#123;value&#125;</span>`)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="regexp">//</span> a <span class="keyword">is</span> <span class="number">1</span>, b <span class="keyword">is</span> <span class="number">2</span>, c <span class="keyword">is</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>你可以猜到，我们可以使用ES6的<code>for/of</code>来遍历<code>Object.entries</code>的返回结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;a: <span class="number">1</span>, b: <span class="number">2</span>, c: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(obj)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;key&#125;</span> is <span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a is 1, b is 2, c is 3</span></span><br></pre></td></tr></table></figure>
<p>现在提取value还有键值对更加容易了，<code>Object.values</code>和<code>Object.entries</code>联合<code>for/of</code>（ES6）可以很轻松的遍历对象。</p>
<h1 id="padStart和padEnd"><a href="#padStart和padEnd" class="headerlink" title="padStart和padEnd"></a><code>padStart</code>和<code>padEnd</code></h1><p>ES8提供了字符串原生API<code>String.prototype.padStart</code>和<code>String.prototype.padEnd</code>，提供类似<a href="http://www.haneycodes.net/npm-left-pad-have-we-forgotten-how-to-program/" target="_blank" rel="external">left-pad</a>的功能，原生API用起来会更愉快，起码不用担心会被unpublish</p>
<p><code>padStart()</code>返回一个指定长度的字符串，如果原来的字符串长度不够，那么从字符串左侧插入占位符补齐长度。占位符是一个指定的字符串，会一直重复直到字符串长度达到要求。从左侧开始补齐，因为在大多数西语环境中，字符串是从左侧开始的。下面的例子是使用空格来占位：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'react'</span>.padStart(<span class="number">10</span>).length)         <span class="regexp">//</span> <span class="string">"       react"</span> <span class="keyword">is</span> <span class="number">10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'backbone'</span>.padStart(<span class="number">10</span>).length)         <span class="regexp">//</span> <span class="string">"  backbone"</span> <span class="keyword">is</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>
<p>这个方法在财务领域的开发是非常有用的，可以用来做数值报表的对齐。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.<span class="built_in">log</span>(<span class="string">'0.00'</span>.padStart(<span class="number">20</span>))         	</span><br><span class="line">console.<span class="built_in">log</span>(<span class="string">'10,000.00'</span>.padStart(<span class="number">20</span>))    </span><br><span class="line">console.<span class="built_in">log</span>(<span class="string">'250,000.00'</span>.padStart(<span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<p>上面的运行结果是会得到一个非常优美的在会计领域的报表格式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      0<span class="selector-class">.00</span></span><br><span class="line"> 10,000<span class="selector-class">.00</span></span><br><span class="line">250,000<span class="selector-class">.00</span></span><br></pre></td></tr></table></figure>
<p>占位符默认是空格，也可以在方法的第二个参数中自己定义，并且占位符可以是任意长度。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.<span class="built_in">log</span>(<span class="string">'react'</span>.padStart(<span class="number">10</span>, <span class="string">'_'</span>))         // <span class="string">"_____react"</span></span><br><span class="line">console.<span class="built_in">log</span>(<span class="string">'backbone'</span>.padStart(<span class="number">10</span>, <span class="string">'*'</span>))         // <span class="string">"**backbone"</span></span><br></pre></td></tr></table></figure>
<p>不难猜到<code>padEnd</code>，是从字符串结束的位置，也就是右侧开始插入占位符。与<code>padStart</code>一样，也提供了第二个参数自定义占位符。</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'react'</span>.padEnd(<span class="number">10</span>, <span class="string">':-)'</span>))         <span class="regexp">//</span> <span class="string">"react:-):-"</span> <span class="keyword">is</span> <span class="number">10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'backbone'</span>.padEnd(<span class="number">10</span>, <span class="string">'*'</span>))         <span class="regexp">//</span> <span class="string">"backbone**"</span> <span class="keyword">is</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>
<h1 id="Object-getOwnPropertyDescriptors"><a href="#Object-getOwnPropertyDescriptors" class="headerlink" title="Object.getOwnPropertyDescriptors"></a><code>Object.getOwnPropertyDescriptors</code></h1><p>新的api<code>Object.getOwnPropertyDescriptors</code>返回对象所有的自有属性，是<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="external">Object.getOwnPropertyDescriptor(obj, propName)</a>的复数版本，<code>Object.getOwnPropertyDescriptor(obj, propName)</code>只能返回指定自有属性的值。</p>
<p>现在我们面对的是不可变数据编程，这个方法能起到很大的作用（记住，JavaScript是传引用的，不是传值得）。在ES5中，开发者使用<code>Object.assign()</code>来复制数据，<code>Object.assign()</code>只能复制自有属性，而不能复制prototype中的属性，这将很难处理复杂对象或者class属性的。</p>
<p><code>Object.getOwnPropertyDescriptors</code>可以用来创建一个真正的浅拷贝或者创建一个子类。结合<code>Object.create(prototype, object)</code>来创建浅拷贝，<code>Object.getOwnPropertyDescriptors</code>返回结果作为第二个参数传给<code>Object.create(prototype, object)</code>。（译者注：<code>Object.create(prototype, object)</code>的第一个参数是创建对象的prototype，也可以说是<strong>prop</strong>，第二个参数用来创建对象的自有属性，也可以说是this属性）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Object</span><span class="selector-class">.create</span>(</span><br><span class="line">  <span class="selector-tag">Object</span><span class="selector-class">.getPrototypeOf</span>(<span class="selector-tag">obj</span>),</span><br><span class="line">  <span class="selector-tag">Object</span><span class="selector-class">.getOwnPropertyDescriptors</span>(<span class="selector-tag">obj</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>或者，我们也可以合并<code>target</code>和<code>source</code>两个对象</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Object</span><span class="selector-class">.defineProperties</span>(</span><br><span class="line">  <span class="selector-tag">target</span>,</span><br><span class="line">  <span class="selector-tag">Object</span><span class="selector-class">.getOwnPropertyDescriptors</span>(<span class="selector-tag">source</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>那么什么是<code>descriptor</code>描述符呢？描述符是一个对象，咄！</p>
<p>好吧好吧，让我们来更深入的了解描述符。在JavaScript中有两种描述符：</p>
<ol>
<li>数据描述符</li>
<li>访问器描述符</li>
</ol>
<p>访问器描述符有两个强制属性，<code>get</code>和<code>set</code>，根据名字你也能够猜到是<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get" target="_blank" rel="external">getter</a>方法和<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set" target="_blank" rel="external">setter</a>方法。还有两个可选属性，<code>configurable</code>和<code>enumerable</code>。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let azatsBooks = &#123;  </span><br><span class="line">  books: [<span class="string">'React Quickly'</span>],</span><br><span class="line">  <span class="keyword">get</span> latest () &#123;</span><br><span class="line">    let numberOfBooks = <span class="keyword">this</span>.books.length</span><br><span class="line">    <span class="keyword">if</span> (numberOfBooks == <span class="number">0</span>) <span class="keyword">return</span> undefined</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.books[numberOfBooks - <span class="number">1</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上例中的数据描述符是<code>books</code>，执行<code>Object.getOwnPropertyDescriptor(azatsBooks, &#39;books&#39;)</code>得到：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span></span><br><span class="line">	configurable: <span class="literal">true</span></span><br><span class="line">	enumerable: <span class="literal">true</span></span><br><span class="line">	value: <span class="built_in">Array</span>[<span class="number">1</span>]</span><br><span class="line">	writable: <span class="literal">true</span></span><br><span class="line">	__proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<p>同样，对于修饰符执行<code>latest</code>，执行<code>Object.getOwnPropertyDescriptor(azatsBooks, &#39;latest&#39;)</code>得到：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span></span><br><span class="line">	configurable: truee</span><br><span class="line">	numerable: <span class="literal">true</span></span><br><span class="line">	<span class="keyword">get</span>: latest()</span><br><span class="line">	<span class="keyword">set</span>: <span class="literal">undefined</span></span><br><span class="line">	__proto__: <span class="built_in">Object</span></span><br></pre></td></tr></table></figure>
<p>下面让我们使用新的api来得到所有修饰符</p>
<p><code>console.log(Object.getOwnPropertyDescriptors(azatsBooks))</code></p>
<p>返回的结果中包含了描述符<code>books</code>和<code>latest</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Object</span><br><span class="line"><span class="attr">  books:</span> Object</span><br><span class="line"><span class="attr">    configurable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    enumerable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    value:</span> Array[<span class="number">1</span>]</span><br><span class="line"><span class="attr">    writable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    __proto__:</span> Object</span><br><span class="line"><span class="attr">  latest:</span> Object</span><br><span class="line"><span class="attr">    configurable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    enumerable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    get:</span> latest()</span><br><span class="line"><span class="attr">    set:</span> undefined</span><br><span class="line"><span class="attr">    __proto__:</span> Object</span><br><span class="line"><span class="attr">  __proto__:</span> Object</span><br></pre></td></tr></table></figure>
<p>在浏览器的控制台中执行，会得到如下面的打印结果</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNc79ly1fcj7i6nbhoj30aa0bcjs8.jpg" alt=""></p>
<h1 id="方法参数允许以逗号结束"><a href="#方法参数允许以逗号结束" class="headerlink" title="方法参数允许以逗号结束"></a>方法参数允许以逗号结束</h1><p>这个是纯粹的语法变化，在ES5中，方法的参数不能以逗号结束。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span> f = function(<span class="selector-tag">a</span>,</span><br><span class="line">  <span class="selector-tag">b</span>,</span><br><span class="line">  c,</span><br><span class="line">  d) &#123; <span class="comment">// NO COMMA!</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  console.log(d)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">f</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'this'</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>在ES8中，这是被允许的</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span> f = function(<span class="selector-tag">a</span>,</span><br><span class="line">  <span class="selector-tag">b</span>,</span><br><span class="line">  c,</span><br><span class="line">  d,</span><br><span class="line">) &#123; <span class="comment">// COMMA? OK!</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  console.log(d)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">f</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'this'</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>其他允许以逗号结束的行为有：数组允许以逗号结束（从ES3开始），对象允许以逗号结束（从ES5开始）</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span> arr = [<span class="number">1</span>,  <span class="comment">// Length == 3</span></span><br><span class="line">  <span class="number">2</span>,</span><br><span class="line">  <span class="number">3</span>,</span><br><span class="line">]  <span class="comment">// &lt;--- ok</span></span><br><span class="line">let obj = &#123;<span class="selector-tag">a</span>: <span class="number">1</span>,  <span class="comment">// Only 3 properties</span></span><br><span class="line">  <span class="selector-tag">b</span>: <span class="number">2</span>,</span><br><span class="line">  c: <span class="number">3</span>,</span><br><span class="line">&#125;  <span class="comment">// &lt;--- ok</span></span><br></pre></td></tr></table></figure>
<p>并且，这种写法是<code>git-friendly</code>的。</p>
<p>如果你写代码习惯对方法参数换行的话，尤其又是有很多参数的时候，这个改动会对你有很大的帮助。通常都会把参数直接的逗号放在每行的第一位，这样能够提醒开发者这一行与上一行是一个方法的参数，还能提醒开发者逗号不能是最后一位，这样的写法虽然避免了问题，但是一大堆以逗号开头的代码看起来还是很怪异的。现在方法参数允许以逗号结束了，就不会再有这种问题了，开发者可以把逗号放在任何地方，即使是方法参数的最后一位。</p>
<h1 id="异步函数"><a href="#异步函数" class="headerlink" title="异步函数"></a>异步函数</h1><p>异步函数，或者说async/await大家会更熟悉，类似于<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="external">Promise</a>，都是用来更简洁的处理异步调用的。因为。。。好吧，因为人类的大脑在进化过程中，并没有进化出并行处理事物的机能。</p>
<p>个人来讲，我并不喜欢promise（译者注：同感）。相比回调，promise显得更加冗长和繁琐，所以我从来不使用promise。幸运的是，在ES8里面，开发者可以使用<code>async</code>关键字来定义一个函数，来实现基于promise的操作。每一个异步函数都返回promise对象。</p>
<p>在ES6中，我们可以使用Promise和<a href="https://github.com/mzabriskie/axios" target="_blank" rel="external">Axios</a>来创建一个请求：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">axios</span><span class="selector-class">.get</span>(<span class="built_in">`/q?query=$&#123;query&#125;`</span>)</span><br><span class="line">  <span class="selector-class">.then</span>(response =&gt; response.data)</span><br><span class="line">  <span class="selector-class">.then</span>(data =&gt; &#123;</span><br><span class="line">    this<span class="selector-class">.props</span><span class="selector-class">.processfetchedData</span>(data) <span class="comment">// Defined somewhere else</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="selector-class">.catch</span>(error =&gt; console.log(error))</span><br></pre></td></tr></table></figure>
<p>任何一个promise库都能够与async/await配合使用，我们使用async/await改造上面的例子，并增加了try/catch来捕获异常</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> fetchData(url) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.get(<span class="string">`/q?query=<span class="subst">$&#123;query&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">const</span> data = response.data</span><br><span class="line">    <span class="keyword">this</span>.props.processfetchedData(data)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>async声明的函数会返回一个Promise对象，因此我们可以继续用promise的方式来处理我们的工作流。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">async fetchData(query) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    const response = await axios.<span class="keyword">get</span>(`/q?query=$&#123;query&#125;`)</span><br><span class="line">    const <span class="keyword">data</span> = response.<span class="keyword">data</span></span><br><span class="line">  	<span class="keyword">return</span> <span class="keyword">data</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    console.log(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fetchData(query).then(<span class="keyword">data</span> =&gt; &#123;</span><br><span class="line">  <span class="keyword">this</span>.props.processfetchedData(<span class="keyword">data</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>async/await的工作原来可以参考<a href="https://babeljs.io/repl/#?babili=false&amp;evaluate=true&amp;lineWrap=false&amp;presets=es2015%2Ces2017&amp;targets=&amp;browsers=&amp;builtIns=false&amp;code=let%20axios%20%3D%20%7B%0A%20%20get%3A%20function(x" target="_blank" rel="external">Babel REPL</a>%20%7B%0A%20%20return%20new%20Promise(resolve%20%3D%3E%20%7B%0A%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20resolve(%7Bdata%3A%20x%7D)%0A%20%20%20%20%7D%2C%202000)%0A%20%20%7D)%0A%7D%7D%0Alet%20query%20%3D%20’mangos’%0Aasync%20function%20fetchData(query)%20%7B%0A%20%20try%20%7B%0A%20%20%20%20const%20response%20%3D%20await%20axios.get(%60%2Fq%3Fquery%3D%24%7Bquery%7D%60)%0A%20%20%20%20const%20data%20%3D%20response.data%0A%20%20%09return%20data%0A%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20console.log(error)%0A%20%20%7D%0A%7D%0AfetchData(query).then(data%20%3D%3E%20%7B%0A%20%20console.log(data)%0A%7D))，需要注意的是axios是一个mock库，使用<code>setTimeout</code>来模拟异步请求返回。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> axios = &#123;  <span class="comment">// mocks</span></span><br><span class="line">  get: <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      resolve(&#123;data: x&#125;)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;&#125;</span><br><span class="line"><span class="keyword">let</span> query = <span class="string">'mangos'</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchData</span>(<span class="params">query</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.get(<span class="string">`/q?query=<span class="subst">$&#123;query&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">const</span> data = response.data</span><br><span class="line">  	<span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fetchData(query).then(data =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data) <span class="comment">// Got data 2s later... Can use data!</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>使用了async/await，你可以以同步调用的方式来处理异步函数。这种方式更加符合从上向下的阅读习惯，并且结束输出也是从上向下顺序执行的。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>这或多或少是所有的ES8（尚未完成）和全部的ES7（完成）。如果你使用了Bable、Traceur这类的转换器，那么不用等到浏览器支持，也可以现在就使用这些新特性。ES7和ES8会被编译成ES5的代码，即使是IE9也能够运行这些经过转换的代码。</p>
<p>在使用ES8的特性时，需要小心下面的这些特性，因为这些特性现在虽然处于3阶段，但是可能会被从ES8标准中剔除</p>
<ul>
<li>Shared Memory and Atomics</li>
<li>SIMD.JS - SIMD APIs</li>
<li>Function.prototype.toString</li>
<li>Lifting Template Literal Restriction</li>
<li>global</li>
<li>Rest/Spread Properties</li>
<li>Asynchronous Iteration</li>
<li>import()</li>
</ul>
<p>你可以在<a href="https://github.com/tc39/proposals/blob/master/README.md#active-proposals" target="_blank" rel="external">激活提案</a>和<a href="https://github.com/tc39/proposals/blob/master/finished-proposals.md" target="_blank" rel="external">完成提案</a>中了解他们的状态。（译者注，在原作者完成这篇文章后<code>Shared Memory and Atomics</code>已经被加入到了完成提案中，也就是进入到了4阶段）</p>
<p>PS: 了解ES6/ES2015中的其他新特性，如Promise、箭头函数、let/const，可以阅读我的博客或者查看视频。</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNc79ly1fck2y6lashj30qo0f53zv.jpg" alt=""></p>
<p>PS2: 如果你更喜欢通过视频学习，请进入Node.University的<a href="https://node.university/p/es6" target="_blank" rel="external">ES6/ES2015课程</a>，并关注即将上线的<a href="https://node.university/p/es7-es8" target="_blank" rel="external">ES7和ES8课程</a>。（译者注，目前ES7和ES8的课程已经开放了，不过仅针对于付费会员）</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2017/02/09/ES7和ES8特性/" data-id="cj6rf69200002i9fyj5kwdb2g" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2017/02/09/ES7和ES8特性/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2017/02/09/ES7和ES8特性/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-JavaScript-2016-调查-—-状态管理工具" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/12/07/JavaScript-2016-调查-—-状态管理工具/">JavaScript 2016 调查 — 状态管理工具</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/12/07/JavaScript-2016-调查-—-状态管理工具/">
            <time datetime="2016-12-07T10:30:24.000Z" itemprop="datePublished">2016-12-07</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/JavaScript-2016/">JavaScript 2016</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><a href="https://en.wiktionary.org/wiki/TL;DR" target="_blank" rel="external">TL;DR</a></p>
<blockquote>
<p>Redux登顶<br>状态管理工具仍然在不断发展</p>
</blockquote>
<h1 id="1-状态管理工具调查结果"><a href="#1-状态管理工具调查结果" class="headerlink" title="1 状态管理工具调查结果"></a>1 状态管理工具调查结果</h1><p><strong>认知</strong></p>
<p>状态管理在JavaScript中是一个新兴的领域，并不是每一个开发人员都需要使用状态管理工具。</p>
<p><img src="/images/small.png" alt=""></p>
<p>如上图，<a href="http://redux.js.org/" target="_blank" rel="external">Redux</a>毫无争议是最流行的状态管理工具，是Flux的一种实现，由facebook开发的用来管理React或者其他前端框架的全局状态的工具。87%的用户听说过Redux，这很让人难以置信，毕竟Redux才出了一年，并且Flux还有需要其他实现。</p>
<p>除了Redux之外的，最成熟的框架是<a href="https://mobxjs.github.io/mobx/" target="_blank" rel="external">mobx</a>也仅有30%的认知度。</p>
<p><strong>兴趣</strong></p>
<p><img src="/images/smInterest.png" alt=""></p>
<p>如上图，开发者对这些状态管理工具都很感兴趣，尤其是Redux，87%的开发者听说过并且想去学习他。鉴于这些状态管理工具两年前还没有出现，这显然是一个快速发展的领域。</p>
<p>开发者对于Redux表现出了极大的兴趣，这给了Redux作者Dan Abramov很大的压力。Dan Abramov认为Redux不是必须的，只有在遇到问题的时候才应该引入Redux，详细可以查看<a href="https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367#.hm1h7kmdk" target="_blank" rel="external">not every app needs it</a>。</p>
<p><strong>满意度</strong></p>
<p><img src="/images/smSatisfaction.png" alt=""></p>
<p>如上图，总体来讲Redux的开发者满意度最高，MobX和<a href="https://facebook.github.io/relay/" target="_blank" rel="external">Replay</a>满意度中等。我们期待在后续能看到其他竞争者的出现。</p>
<p>如果过一段时间再做调查，在满意度方面出现了一枝独秀的情况，这也不会让人感到惊奇。</p>
<p><img src="/images/smother.png" alt=""></p>
<p>如上面的热力图，如我们的语气，Redux与React及React相关的框架搭配使用最多，如React自身、Webpack、Enzyme以及React Native等等。</p>
<p>Mobx与Redux的分布一致，只是相关度更低一些。</p>
<p><strong>推荐资源</strong></p>
<p><a href="https://egghead.io/courses/getting-started-with-redux?utm_source=stateofjs&amp;utm_medium=sponsor&amp;utm_campaign=statemanagement&amp;utm_content=textlink" target="_blank" rel="external">Getting Started with Redux</a>，Redux入门</p>
<p><a href="https://egghead.io/courses/manage-complex-state-in-react-apps-with-mobx?utm_source=stateofjs&amp;utm_medium=sponsor&amp;utm_campaign=statemanagement&amp;utm_content=textlink" target="_blank" rel="external">Manage Complex State in React Apps with MobX</a>，在React应用中使用MobX管理复杂状态</p>
<h1 id="2-其他状态管理工具的调查结果"><a href="#2-其他状态管理工具的调查结果" class="headerlink" title="2 其他状态管理工具的调查结果"></a>2 其他状态管理工具的调查结果</h1><p><img src="/images/smmentions.png" alt=""></p>
<p>如上图，也许并没有出乎大家的意料，有很多状态管理工具在被使用，其中过半的工具是Flux的实现。然而使用这些工具的开发者人数太低了，Redux已经成为了Flux实现的赢者。另一部分非Flux实现的工具，都是与特定框架绑定使用的，如<a href="https://vuex.vuejs.org/en/index.html" target="_blank" rel="external">Vuex</a>。</p>
<p><a href="http://reactivex.io/rxjs/" target="_blank" rel="external">RxJS</a>、<a href="http://elm-lang.org/" target="_blank" rel="external">Elm</a>和<a href="https://cycle.js.org/" target="_blank" rel="external">CycleJS</a>出现在调查榜单是可能是因为开发者觉得他们有趣或者有发展潜力，但是过低的使用人数阻止了他们的发展和扩散。</p>
<h1 id="3-对状态管理工具的满意程度"><a href="#3-对状态管理工具的满意程度" class="headerlink" title="3 对状态管理工具的满意程度"></a>3 对状态管理工具的满意程度</h1><p>用1-5这5个数字来为你当前使用的状态管理工具来打分。</p>
<p><img src="/images/sm1-5.png" alt=""></p>
<p>有趣的是，即使Redux占有绝对优势并且有很高的满意度，但是总体来说用户对自己在使用的状态管理工具并不是很满意，平均得分在3.19，是本次调查中的最低分了。</p>
<p>有可能是因为一些开发者认为Redux需要与React绑定使用，而其实Redux是可以脱离React生态单独使用的。不管怎么说，满意度是否会与使用Redux以及其他工具的人数成正比，这将会是很有趣的结果。</p>
<h1 id="4-结论"><a href="#4-结论" class="headerlink" title="4 结论"></a>4 结论</h1><p>状态管理工具是一个很有趣的领域，我个人认为调查结果并不能很好的说明当前状态管理工具的现状，我们仍然需要继续调查来丰富我们的揭露。基于我们得到的数据，大部分工具是基于Redux的。</p>
<p>实际上<a href="http://apollostack.com/" target="_blank" rel="external">Apollo</a>（<a href="http://meteor.com/" target="_blank" rel="external">Meteor</a>中使用的跨平台GraphQL客户端）的状态管理工具，也是直接在Redux Store上构建的。</p>
<p>Redux周边的工具越来越丰富，如提示工具、开发者工具和继承工具等，这会让我们把Redux加入到Apollo更加容易。我认为越来越多的人会遵循这中在Redux上构建的模式。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/12/07/JavaScript-2016-调查-—-状态管理工具/" data-id="cj6rf692u000di9fynp18l63w" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/12/07/JavaScript-2016-调查-—-状态管理工具/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/12/07/JavaScript-2016-调查-—-状态管理工具/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-JavaScript-2016-调查-—-前端框架" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/12/06/JavaScript-2016-调查-—-前端框架/">JavaScript 2016 调查 — 前端框架</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/12/06/JavaScript-2016-调查-—-前端框架/">
            <time datetime="2016-12-06T11:33:11.000Z" itemprop="datePublished">2016-12-06</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Angular/">Angular</a>, <a class="tag-link" href="/tags/Angular2/">Angular2</a>, <a class="tag-link" href="/tags/JavaScript-2016/">JavaScript 2016</a>, <a class="tag-link" href="/tags/React/">React</a>, <a class="tag-link" href="/tags/Vue/">Vue</a>, <a class="tag-link" href="/tags/Vue2/">Vue2</a>, <a class="tag-link" href="/tags/前端框架/">前端框架</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>原文出处：<a href="http://stateofjs.com/2016/frontend/" target="_blank" rel="external">http://stateofjs.com/2016/frontend/</a></p>
<p><a href="https://en.wiktionary.org/wiki/TL;DR" target="_blank" rel="external">TL;DR</a></p>
<blockquote>
<p>不要错过React<br>Vue崛起<br>Angular 2 > Angular</p>
</blockquote>
<h1 id="1-主流框架调查结果"><a href="#1-主流框架调查结果" class="headerlink" title="1 主流框架调查结果"></a>1 主流框架调查结果</h1><p><strong>认知</strong></p>
<p><img src="/images/frall.png" alt=""></p>
<p>如上图，除了新框架<a href="https://vuejs.org/" target="_blank" rel="external">Vue</a>，其他框架的认知率都超过了97%。</p>
<p><strong>兴趣</strong></p>
<p><img src="/images/frInterest.png" alt=""></p>
<p>认知调查的结果跟预期差不多，但是兴趣调查的结果就有些出人意料了。如上图，<a href="https://angularjs.org/" target="_blank" rel="external">Angular2</a>对开发者来说仍然是新的技术，从绝对数量上来讲，1893个开发者希望要学习它。</p>
<p><img src="/images/frInterestNumber.png" alt=""></p>
<p>但是如果从百分比上来看，<a href="https://facebook.github.io/react/" target="_blank" rel="external">React</a>无可争议的获胜了。如上图，74%的开发者希望去学习他。</p>
<p>令人惊奇的是，Vue不管从百分比还是从绝对数量上都是第二名。</p>
<p><strong>满意度</strong></p>
<p><img src="/images/frSatisfaction.png" alt=""></p>
<p>如上图，从满意度调查结果来看，92%的开发者对React满意，并表示“会继续使用”。Vue以89%紧随其后，Vue现在越来越流行了，Github上每天超过80次star(数据出自<a href="http://bestof.js.org/tags/framework/trending/last-3-months" target="_blank" rel="external">bestof.js</a>)。我认为现在React和Vue已经处于一个地位了，而Angular2前途有些未卜，Angular、<a href="http://emberjs.com/" target="_blank" rel="external">Ember</a>、<a href="http://backbonejs.org/" target="_blank" rel="external">Backbone</a>已经落后了。</p>
<p><img src="/images/frother.png" alt=""></p>
<p>如上面的热力图，React是如此的引人注目。使用React的开发者，他们使用的技术栈比其他不适用React的开发者要丰富的做。在React生态中的Redux、Enzyme和React Native这些技术，他们可以配合在一起使用，这是非常有趣的。</p>
<p>有趣的是，虽然Angular用户往往不想使用React，但Angular2的用户对他们的主要竞争对手React更有好感！</p>
<p><strong>推荐资源</strong></p>
<p><a href="https://reactforbeginners.com/?utm_source=stateofjs&amp;utm_medium=sponsor&amp;utm_campaign=frontend&amp;utm_content=textlink" target="_blank" rel="external">React For Beginners</a>，React初级教程</p>
<p><a href="https://egghead.io/courses/up-and-running-with-typescript?utm_source=stateofjs&amp;utm_medium=sponsor&amp;utm_campaign=flavors&amp;utm_content=textlink" target="_blank" rel="external">Up and Running with TypeScript</a>，Angular2教程。</p>
<h1 id="2-其他框架的调查结果"><a href="#2-其他框架的调查结果" class="headerlink" title="2 其他框架的调查结果"></a>2 其他框架的调查结果</h1><p><img src="/images/frmentions.png" alt=""></p>
<p>如上图。在做调查之前，我对<a href="http://aurelia.io/" target="_blank" rel="external">aurelia</a>并不是很了解，但是我现在对它很清楚了，因为它在调查中甩了“其他”框架几条街。虽然我们无法肯定人们对aurelia有多热爱，但是我可以负责任的说，有很多人在使用它，那么它一定有自己独特的魅力。</p>
<p>排在第二位的是<a href="https://www.meteor.com/" target="_blank" rel="external">meteor</a>和<a href="http://blazejs.org/" target="_blank" rel="external">blaze</a>，Meteor现在已经逐渐发展成全栈了。</p>
<p>剩下的框架可以大致被分为两类：</p>
<ul>
<li>经典框架：<a href="http://knockoutjs.com/" target="_blank" rel="external">knockout</a>、<a href="http://jquery.com/" target="_blank" rel="external">jquery</a>或者<a href="https://dojotoolkit.org/" target="_blank" rel="external">dojo</a></li>
<li>新进小众框架：<a href="https://cycle.js.org/" target="_blank" rel="external">cycle</a>、<a href="https://www.polymer-project.org/1.0/" target="_blank" rel="external">polymer</a>或者<a href="http://mithril.js.org/" target="_blank" rel="external">mithril</a></li>
</ul>
<p>这说明了JavaScript框架真的是百花齐放，而在node出现之前，JavaScript大多是原生js的天下。</p>
<h1 id="3-对当前JavaScrip框架的满意程度"><a href="#3-对当前JavaScrip框架的满意程度" class="headerlink" title="3 对当前JavaScrip框架的满意程度"></a>3 对当前JavaScrip框架的满意程度</h1><p>用1-5这5个数字来为你当前使用的JavaScript框架来打分。</p>
<p><img src="/images/fr1-5.png" alt=""></p>
<p>如上图，开发者对它们选择的框架总体来说非常满意。满意度平均分达到了3.78分，这让我们看到了希望，JavaScript可能正在向好的方向发展。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/12/06/JavaScript-2016-调查-—-前端框架/" data-id="cj6rf692g0008i9fy4klk0zfj" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/12/06/JavaScript-2016-调查-—-前端框架/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/12/06/JavaScript-2016-调查-—-前端框架/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-JavaScript-2016-调查-—-JavaScript语言规范" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/12/02/JavaScript-2016-调查-—-JavaScript语言规范/">JavaScript 2016 调查 — JavaScript语言规范</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/12/02/JavaScript-2016-调查-—-JavaScript语言规范/">
            <time datetime="2016-12-02T08:19:10.000Z" itemprop="datePublished">2016-12-02</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/ES6/">ES6</a>, <a class="tag-link" href="/tags/JavaScript-2016/">JavaScript 2016</a>, <a class="tag-link" href="/tags/TypeScript/">TypeScript</a>, <a class="tag-link" href="/tags/语言规范/">语言规范</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>原文出处：<a href="http://stateofjs.com/2016/flavors/" target="_blank" rel="external">http://stateofjs.com/2016/flavors/</a></p>
<p><a href="https://en.wiktionary.org/wiki/TL;DR" target="_blank" rel="external">TL;DR</a></p>
<blockquote>
<p>ES6是新的标准<br>CoffeeScript过时了<br>一波新的JavaScript语言规范即将到来</p>
</blockquote>
<p>当我们在谈论”JavaScript”的时候，我们并不是在讨论一种语言，而实际上是在讨论一个语言家族。</p>
<p>CoffeeScript已经过时了，ES6，TypeScript和Elm现在正在变得越来越流行。</p>
<h1 id="1-语言规范调查结果"><a href="#1-语言规范调查结果" class="headerlink" title="1 语言规范调查结果"></a>1 语言规范调查结果</h1><p><strong>认知</strong></p>
<p><img src="/images/all.png" alt=""></p>
<p>如上图，ES6、<a href="http://coffeescript.org/" target="_blank" rel="external">CoffeeScript</a>和<a href="https://github.com/Microsoft/TypeScript" target="_blank" rel="external">TypeScript</a>表现都很不错，让我惊讶的是TypeScript没有其他两者表现的好。</p>
<p><a href="http://elm-lang.org/" target="_blank" rel="external">Elm</a>和<a href="https://clojurescript.org/" target="_blank" rel="external">ClojureScript</a>表现的差强人意，这也能够理解，毕竟这两种语言有自己独有的生态环境，很难融入到主流中。</p>
<p><strong>兴趣</strong></p>
<p><img src="/images/Interest.png" alt=""></p>
<p>如上图，很大比例的开发者随波逐流地选择使用ES6，但是其中大部分人(89%)还没有学习过ES6。</p>
<p>TypeScript和Elm，没有很多人使用过这两种语言，但是分别有53%和58%的开发者对它们感兴趣。TypeScript和Elm之所以没有那么多人使用，我才是因为它们很难让所有的开发人员都明白它们的优势在什么地方，尤其是写惯了JavaScript的开发者。</p>
<p>更少的开发者使用过CoffeeScript，并且几乎没有人有计划去学习它。我在考虑要不要写一本12券的CoffeeScript百科全书来纪念它。</p>
<p><strong>满意度</strong></p>
<p>在谈满意度调查之前，我们首先要面对一个问题：有多少开发者用过上述所有的JavaScript语言规范，有多少开发者会再次使用这些语言规范。</p>
<p><img src="/images/Satisfaction.png" alt=""></p>
<p>如上图，虽然原生JS有很大的用户基础，但是ES6令开发者满意的程度更高，可以很负责任的说，ES6是现在JavaScript主流的语言规范。</p>
<p>TypeScript和Elm也都有很高的满意度，两者大约都是85％。最后，只有17％的开发人员愿意考虑再次使用可怜的CoffeeScript。</p>
<p><img src="/images/other.png" alt=""></p>
<p>如上面的热点图，使用原生JS和CSS的开发者，更偏向于老派的开发框架，如Backbone，甚至不使用任何框架。</p>
<p>另一方面，ES6与React有很强的关系，使用React技术栈的开发者习惯使用ES6。而TypeScript与Angluar2则成双入对。</p>
<p><strong>推荐资源</strong></p>
<p><a href="https://es6.io/?utm_source=yanyu0517.github.io&amp;utm_medium=sponsor&amp;utm_campaign=flavors&amp;utm_content=textlink" target="_blank" rel="external">ES6 For Everyone</a>，学习ES6的高级课程</p>
<p><a href="https://egghead.io/courses/up-and-running-with-typescript?utm_source=stateofjs&amp;utm_medium=sponsor&amp;utm_campaign=flavors&amp;utm_content=textlink" target="_blank" rel="external">Up and Running with TypeScript</a>，学习TypeScript的课程。</p>
<h1 id="2-对JavaScript语言规范现状的满意程度"><a href="#2-对JavaScript语言规范现状的满意程度" class="headerlink" title="2 对JavaScript语言规范现状的满意程度"></a>2 对JavaScript语言规范现状的满意程度</h1><p>用1-5这5个数字来为你当前使用的JavaScript语言规范来打分。</p>
<p><img src="/images/1-5.png" alt=""></p>
<p>如上图，总体满意度还是很高的，平均分达到了3.96。凭上面的表现，我们很难说这是因为JavaScript现在的改进已经很有效了，或者也不是因为JavaScript可能（仅仅是可能）不再像设计之初那么糟糕了。不管怎么说，这个分数算是一种安慰吧。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/12/02/JavaScript-2016-调查-—-JavaScript语言规范/" data-id="cj6rf692s000ci9fya7svoatq" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/12/02/JavaScript-2016-调查-—-JavaScript语言规范/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/12/02/JavaScript-2016-调查-—-JavaScript语言规范/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-JavaScript-2016-调查-——-介绍" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/12/02/JavaScript-2016-调查-——-介绍/">JavaScript 2016 调查 — 介绍</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/12/02/JavaScript-2016-调查-——-介绍/">
            <time datetime="2016-12-02T07:27:03.000Z" itemprop="datePublished">2016-12-02</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/JavaScript-2016/">JavaScript 2016</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><img src="/images/javascript9.svg" alt=""></p>
<p>原文出处：<a href="http://stateofjs.com/2016/introduction/" target="_blank" rel="external">http://stateofjs.com/2016/introduction/</a></p>
<p>我们可以提出这样问题：JavaScript是一种现代的、可靠的语言，还是一种臃肿的、过度复杂的语言呢？或者兼具上面两种特性？</p>
<p>此外，你是否在使用React或者Angular2？你真正需要Webpack吗？这个月推荐的CSS处理方法又是什么样子的呢？</p>
<p>和你一样，我花了大量的时间在上面那些技术中，但是到了最后我确实很混乱。因此我创建了这个调查，来看看其他人是怎么想的。让我没有想到的是，我在两周内收到了9000份调查结果。</p>
<p>这是一个系列文章，包括介绍和结语一共十四个章节，本文是第一章节<code>介绍</code>。</p>
<p><em>目录：</em></p>
<ol>
<li><a href="http://yanyu0517.github.io/2016/12/02/JavaScript-2016-%E8%B0%83%E6%9F%A5-%E2%80%94%E2%80%94-%E4%BB%8B%E7%BB%8D/" title="介绍" target="_blank" rel="external">介绍</a></li>
<li><a href="http://yanyu0517.github.io/2016/12/02/JavaScript-2016-%E8%B0%83%E6%9F%A5-%E2%80%94-JavaScript%E8%AF%AD%E8%A8%80%E8%A7%84%E8%8C%83/" target="_blank" rel="external">JavaScript语言规范</a></li>
<li><a href="http://yanyu0517.github.io/2016/12/06/JavaScript-2016-%E8%B0%83%E6%9F%A5-%E2%80%94-%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" target="_blank" rel="external">前端框架</a></li>
<li><a href="http://yanyu0517.github.io/2016/12/07/JavaScript-2016-%E8%B0%83%E6%9F%A5-%E2%80%94-%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" target="_blank" rel="external">状态管理</a></li>
<li><a href="">API层</a></li>
<li><a href="">全栈框架</a></li>
<li><a href="">测试框架</a></li>
<li><a href="">CSS工具</a></li>
<li><a href="">构建工具</a></li>
<li><a href="">移动框架</a></li>
<li><a href="">特性</a></li>
<li><a href="">看法</a></li>
<li><a href="">编辑器</a></li>
<li><a href="">结论</a></li>
</ol>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/12/02/JavaScript-2016-调查-——-介绍/" data-id="cj6rf692x000fi9fyig3dwhuz" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/12/02/JavaScript-2016-调查-——-介绍/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/12/02/JavaScript-2016-调查-——-介绍/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Git-Flow-vs-Github-Flow" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/09/30/Git-Flow-vs-Github-Flow/">Git Flow vs Github Flow</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/09/30/Git-Flow-vs-Github-Flow/">
            <time datetime="2016-09-30T10:47:53.000Z" itemprop="datePublished">2016-09-30</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/git/">git</a>, <a class="tag-link" href="/tags/gitflow/">gitflow</a>, <a class="tag-link" href="/tags/github/">github</a>, <a class="tag-link" href="/tags/github-flow/">github flow</a>, <a class="tag-link" href="/tags/gitlab/">gitlab</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>原文出处：<a href="https://lucamezzalira.com/2014/03/10/git-flow-vs-github-flow/" target="_blank" rel="external">Git Flow vs Github Flow</a></p>
<p>最近我花了一些时间来学习如何使用GIT更好的来管理项目<br>阅读了很多文章关于使用GIT的文章，想找到一种最好的工作方式能够适用于不同的情况<br>现在GIT工作流分为两种：Git Flow和Github Flow<br>这两种方式都能够帮助你管理项目，优化工作流<br>让我们来看看这两种Flow的区别</p>
<p>##Git Flow</p>
<p><img src="../images/gitflow_1.png" alt=""></p>
<p>Git Flow的理念是利用不同的分离来管理软件开发过程中的不同各阶段。如果你的软件有“release”这个阶段，那么推荐使用Git Flow。但如果你的软件开发是“快速迭代和交付”的，那么不要使用Git Flow。</p>
<p>Git Flow另一个使用场景是，如果团队中有多个人在开发同一个功能。</p>
<p>Git Flow主要维护的分支：</p>
<ul>
<li>master</li>
<li>develop</li>
<li>features</li>
<li>hotfix</li>
<li>release</li>
</ul>
<p>Git Flow工作流程：</p>
<p>一旦完成clone到本地，需要立即从master创建一个develop分支，也就开发分支。（译者注：develop分支是功能的继承分支，用来详细记录项目的开发进程和历史，而master分支则用来存储正式版本的发布历史）</p>
<p>一旦需要开发某个功能的时候，无脑从develop分支中创建一个新的feature分支，也就是功能分支。此时不需要考虑其他人正在开发的代码。</p>
<p>当feature分支开发完并且经过测试后，把feature分支合并到develop分支中，这样能够保证develop分支上的代码总是稳定的。（译者注：此处需要注意，是合并到develop分支，而不是master分支。正如我们上面说的，master分支作为正式发布使用）</p>
<p>当所有功能都开发完成，也即是feature分支全部合并到develop分支（译者注，feature分支可以有很多个，有多人并行开发）。我们需要一个release分支来发布我们的功能。</p>
<p>release分支仅用来测试、修复bug和文档生成等工作，而不能再release分支开发新功能，那是feature分支的工作范围。（译者注：从develop分支中创建release分支，能够让develop分支得到释放，其他人可以继续开发，而不会被发布行为所阻塞。并且release分支能够令发布阶段和版本更加清晰）</p>
<p>最后，当release分支上的工作结束后，准备发布，那么就把release分支 合并到master分支上，并分配一个tag号。</p>
<p>显然，Git Flow看起来有很多步骤，很麻烦，但是这种Flow是最安全的，可以帮你规避掉很多错误和风险。我们可以通过脚本来尽量简化Git Flow的过程。或者通过视化的工具，如<a href="https://www.sourcetreeapp.com/" target="_blank" rel="external">SourceTree by Atlassian</a>，来更简单更直观的操作整个Flow。下面一段视频是在SourceTree中操作Git Flow</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/teuHVe8hApU" frameborder="0" allowfullscreen></iframe>

<p>关于Git Flow，推荐下面两篇文章<a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="external">nvie blog</a>, <a href="http://datasift.github.io/gitflow/IntroducingGitFlow.html" target="_blank" rel="external">datasift documentation</a></p>
<p>##Github Flow</p>
<p><img src="../images/screen-shot-2014-03-08-at-23-07-361.png" alt=""></p>
<p>读了上面的文章，你认为Github是工作在Git Flow上吗？<strong>当然不是！</strong>（译者注：作者对此很惊讶。。。。）</p>
<p>实际上，Github上的代码都是一种持续开发的状态，也就没有所谓的“release”阶段，每一次开发完一个新的功能后，都会立即push代码</p>
<p>Github Flow工作流程的主要概念：</p>
<ul>
<li>master分支永远是可以部署的</li>
<li>从master创建分支，分支的名字是啥可描述的，如new-oauth2-scopes</li>
<li>在本地的分支commit，并且经常性的push</li>
<li>通过pull request合并代码</li>
<li>在代码审核后，可以把代码合并到master中</li>
<li>一旦代码合并到master，那么代码是可以部署的</li>
</ul>
<p><a href="https://guides.github.com/introduction/flow/" target="_blank" rel="external">Github Flow官方介绍</a>提供了一个互动的页面，帮助我们了解什么是Github Flow。</p>
<p>Github Flow是一个轻量的管理项目的工作流，并且小巧和安全，QA团队、小团队或者自由职业者会经常使用Github Flow。</p>
<p>Github Flow有一个很好的<a href="http://scottchacon.com/2011/08/31/github-flow.html" target="_blank" rel="external">博客</a>，由Github的布道士Scott Chacon维护。下面一段视频实在SourceTree中操作Github Flow</p>
<p>我非常希望如果你有好的想法关于Git的，可以在这里随意分享，或者如果有比Git Flow和Github Flow更好的Flow，也可以提出，一起分享。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/09/30/Git-Flow-vs-Github-Flow/" data-id="cj6rf691k0000i9fye79wzpn6" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/09/30/Git-Flow-vs-Github-Flow/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/09/30/Git-Flow-vs-Github-Flow/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-假如javascript有了一个标准库（译文）" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/04/12/假如javascript有了一个标准库（译文）/">假如javascript有了一个标准库（译文）</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/04/12/假如javascript有了一个标准库（译文）/">
            <time datetime="2016-04-12T10:02:07.000Z" itemprop="datePublished">2016-04-12</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/－javascript-node-es6/">－javascript - node - es6</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>原文出处：<a href="https://medium.com/@thomasfuchs/what-if-we-had-a-great-standard-library-in-javascript-52692342ee3f#.3nmsibtul" target="_blank" rel="external">https://medium.com/@thomasfuchs/what-if-we-had-a-great-standard-library-in-javascript-52692342ee3f#.3nmsibtul</a><br>在过去几年，javascript领域主要集中做了两件事情：<br>1、增加了若干新的功能，也就是发布了<a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="external">ES6</a><br>2、创建了一个巨大的js模块库，也就是<a href="https://www.npmjs.com/" target="_blank" rel="external">npm</a><br>截止到现在（注：原作者撰写文章时间，2016年3月26日，9:52 上午 东海岸时间 ），npm已经包含了259191个模块<br>想象一下，一个没有图书的图书馆，取而代之的是充满了幸运饼干，并且用线把这些幸运饼干穿起来（译者注：此处的原文是Imagine a library with no books, instead being filled to the gills with fortune cookie fortunes. That are tied with strings to each other.可以理解为当前javascript中充满了各种库、框架、工具等轮子，并且是无序的杂乱无章的）<br>下面一张图用来比喻现在javascript的项目就类似于一张用来跟踪连环杀手的线索强，杂乱无章，仅通过线来维系彼此之间的关系<br><img src="/images/1-CZTmVvPduBuWmnlUGAz2VQ.png" alt=""><br>ES6（又叫下一代js）增加了大量的新特性和新功能，如：<a href="https://github.com/lukehoban/es6features#arrows" target="_blank" rel="external">arrows</a>, <a href="https://github.com/lukehoban/es6features#classes" target="_blank" rel="external">classes</a>, <a href="https://github.com/lukehoban/es6features#enhanced-object-literals" target="_blank" rel="external">enhanced object literals</a>, <a href="https://github.com/lukehoban/es6features#template-strings" target="_blank" rel="external">template strings</a>, <a href="https://github.com/lukehoban/es6features#destructuring" target="_blank" rel="external">destructuring</a>, <a href="https://github.com/lukehoban/es6features#default--rest--spread" target="_blank" rel="external">default + rest + spread</a>, <a href="https://github.com/lukehoban/es6features#let--const" target="_blank" rel="external">let + const</a>, <a href="https://github.com/lukehoban/es6features#iterators--forof" target="_blank" rel="external">iterators + for..of</a>, <a href="https://github.com/lukehoban/es6features#generators" target="_blank" rel="external">generators</a>, <a href="https://github.com/lukehoban/es6features#unicode" target="_blank" rel="external">unicode</a>, <a href="https://github.com/lukehoban/es6features#modules" target="_blank" rel="external">modules</a>, <a href="https://github.com/lukehoban/es6features#module-loaders" target="_blank" rel="external">module loaders</a>, <a href="https://github.com/lukehoban/es6features#map--set--weakmap--weakset" target="_blank" rel="external">map + set + weakmap + weakset</a>, <a href="https://github.com/lukehoban/es6features#proxies" target="_blank" rel="external">proxies</a>, <a href="https://github.com/lukehoban/es6features#symbols" target="_blank" rel="external">symbols</a>, <a href="https://github.com/lukehoban/es6features#subclassable-built-ins" target="_blank" rel="external">subclassable built-ins</a>, <a href="https://github.com/lukehoban/es6features#promises" target="_blank" rel="external">promises</a>, <a href="https://github.com/lukehoban/es6features#math--number--string--array--object-apis" target="_blank" rel="external">math + number + string + array + object APIs</a>, <a href="https://github.com/lukehoban/es6features#binary-and-octal-literals" target="_blank" rel="external">binary and octal literals</a>, <a href="https://github.com/lukehoban/es6features#reflect-api" target="_blank" rel="external">reflect api</a> 和 <a href="https://github.com/lukehoban/es6features#tail-calls" target="_blank" rel="external">tail calls</a>。<br>那么，让我们来看看，上面那么多新功能，到底什么才是关键功能和关键点。这些新功能是否能帮助你更容易的码代码，另你的代码运行的更好。<br>我们如何能够在js中使用更加便利和有用的软件？<br>只有癌症细胞时为了增长而增长。——出自Edward Abbey（译者注：爱德华·艾比，上个世纪美国作家，发表过散文集《沙漠独居者》等作品）<br>在npm中，许多包的功能很简单，甚至仅仅只有一行代码。那么开发者为什么要引入这种只有一行的包呢？为什么不自己实现这些简单的功能呢？是因为懒吗？我并不这么认为，而是因为在javascript领域里面，有一个约定俗成的规则：任何功能都是可以被按照模块分割的，细粒度的拆分功能到模块，并且通过类似于金字塔模式的依赖关系把这些模块联系起来。<br>我并不认为一些简洁、短小的模块有问题，我甚至也推出过<a href="http://microjs.com/#" target="_blank" rel="external">Micro.js</a>，一个专门用来查找那些短小精练类库的网站。但是，我并不认同把一些本质上并不是很重要的代码片段封装成模块并发布出来的行为<br>这种行为将会带来大量的问题，最直白的例子是：如果一个模块被删除了。<a href="http://blog.npmjs.org/post/141577284765/kik-left-pad-and-npm" target="_blank" rel="external">chaos quickly spreads</a>（译者注：前一段时间闹的沸沸扬扬的left-pad事件。left-pad是一个很小的模块，功能简单，只有寥寥十几行代码，但是被babel，react－native等多个热门项目引用，开发者因为一些原因删除了npm中的left－pad模块，导致多个重要项目构建失败。）<br>下图是browserify的依赖图谱<br><img src="/images/1-F76tqGC0pAzPI06NVtGa1Q.png" alt=""><br>这实际上不是最主要的问题，作为一个开发人员，你的职责是用最简单的方法去解决问题。<strong>最简单</strong>这个概念比较模糊，让我们这么定义它：令你的代码正常工作，高效的使用，相对来说易于理解，并且尽可能简洁的实现。<br>构建软件有两种方法，一是令软件简单，这种方式明显没有问题；二是令软件复杂，这种方法是没有明显问题。（译者注：我想起了玉伯评价<a href="https://www.zhihu.com/question/20342350" target="_blank" rel="external">requirejs和seajs的区别</a>。）出自——C.A.R. Hoare（译者注：托尼·霍尔，出生于英国，计算机博士，曾供职于微软，著名的快排就是他发明的，因在计算机领域出色的贡献，2000年因为其在计算机科学与教育上做出的贡献被封为爵士。）<br>上面吐槽了这么多，让我们来看看上面定义的<strong>最简单</strong>是否真正是简单的<br><strong>代码正常</strong>。是的，现在大部分npm模块是正常工作的，但是一旦你以来的某个模块的开发人员升级模块版本，但是没有遵守semver，那么只能祝你好运了。实际上，这种情况我经常遇到，在我Ruby gems的管理中一次一次的反复出现。而Ruby gems的数量与npm相比简直是小物见大巫<br><strong>高效的使用</strong>。这是头一个坑。即使你的代码很优秀，但是要获得你的代码，使用者不得不从一个中央服务器拉取这些代码。这些代码还需要与最新版本保持一致，这就会在开发的时候增加额外的工作。并且在部署的时候，也要考虑仓库down掉了，<a href="https://medium.com/@azerbike/i-ve-just-liberated-my-modules-9045c06be67c#.wj8hncef0" target="_blank" rel="external">模块不可用</a>，在发布的补丁出现错误等等。因此你不得不需要一个构建系统去处理这些问题，如使用本地缓存技术等等。本质上，这实际增加了复杂度，而复杂度这是生产率的天敌。<br><strong>相对来说容易理解</strong>。每一个你引入的类库或者模块，实际上都创建了一个黑盒环境，你只需要关注输入和输出是否符合你的要求即可。比如<a href="https://www.npmjs.com/package/add-ellipsis" target="_blank" rel="external">这个模块</a>，提供了按照截断字符串并且在结尾处增加”…”的功能。现在你可以亲自review一下这个模块，看看是否可以在一行里面实现这个功能，而不是引用这个模块<br>译者注：我觉得此处想说明的是，有好多模块只是实现了很简单的功能，自己实现可能仅需要一行代码，完全没有必要引入一个模块来解决问题。要知道引入一个模块所带来的问题和风险，大大超过你自己管理这一行代码<br><strong>简洁实现</strong>。你会花费多少时间去写一个方法来截断字符串，或者<a href="https://www.npmjs.com/package/is-positive" target="_blank" rel="external">检查数字是否是正数</a>，或者做一个<a href="https://www.npmjs.com/package/left-pad" target="_blank" rel="external">leftpad</a>。你会发现在标准库中有一些很微不足道的功能，你可能不知道或者没有注意过它们，但往往使用这些标准的api会加速开发过程。而引入额外的模块，将会带来很大的困扰。其他人在阅读你的代码时候，想比如标准api，还需要关注引入库的依赖，以及实现。有可能leftpad会被各种不同的方式实现5次。<br>今天的软件很像埃及金字塔的结构，没有完整的结构可言，仅仅是强迫奴隶和动物完成的。出自——Alan Kay（译者注：阿伦·凯，天才计算机大师，他是Smalltalk面向对象编程环境语言的发明人之一，也是面向对象编程思想的创始人之一）<br>C或者其他语言的程序员初次转到javascript，会对一件事情感到很奇怪，其它语言中包含了很多有用的基础方法，而javascript却并没有。比如printf方法，在javascript中就没有的<br>javascript并没有像C语言那样提供一个很大的标准库，而采用了一种叫做“令事情更好”的路线（译者注：原文是“making things better”）。<br>在德语中，是“Eierlegende Wollmilchsau”或者“Egg-laying-wool-milk-pig”，意思是说如果一件事情试图去包括所有的事情，那么是过度的复杂性一定会导致其失败<br>下图中的动物是一个整合了很多种动物从而创造出的四不像<br><img src="/images/1-yQylqU3-qQML1eePtfKAZQ.jpeg" alt=""><br>如果把全部功能整合并创建一个标准库，并引入到浏览器和javascript运行环境中会怎么样？并且提供第三方语言，仅对javascript做一些微小调整，而令javascript更好。<br>一个标准库能领javascript变得统一并且消除差异，将会令开发人员更容易开发javascript，并且不会再有“去google一个类库”或者“自己写一个功能”这种事情发生。不再需要外引入往外的类库，令代码的部署更加容易。native的方法，性能也会得到保证<br>各种内耗将会大大降低在javascript中建立一套标准库。ES6花费了6年的时间才最终定稿，而浏览器对ES6的支持仍然不好。其实有很多优秀的类库可以借鉴的，如Underscore.js。<br>目前很欣慰看到了一些进展，但是希望能够看到通力合作起来去创建一个真正的底层javascript库。<br>码农复杂的事情变简单，那么将会发生什么呢？</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>作者评价了现在的javascript的生态环境，列举了npm的很多缺点是npm过于复杂和杂乱无章的依赖，会给开发、维护以及build带来很多问题。<br>作者还发出了疑问，过分的依赖是否是健康的，如尽有几行代码实现简单的功能，是否有必要引入一个模块，这样是不是会造成浪费。<br>最后作者希望能够像其他语言一样，比如C或者PHP等（其实这两个语言做的也不好，但是比javscript好），建立一个统一的javascript库，提供底层的工具和方法，取代大量的依赖或者自己开发代码。但是对现状表示不满意，吐槽了现阶段javascript届的执行能力，ES6的推出花了整整六年时间。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/04/12/假如javascript有了一个标准库（译文）/" data-id="cj6rf6930000gi9fy6cdhacmq" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/04/12/假如javascript有了一个标准库（译文）/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/04/12/假如javascript有了一个标准库（译文）/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-IE9浏览器单个CSS文件样式数量限制的bug" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/02/16/IE9浏览器单个CSS文件样式数量限制的bug/">IE9浏览器单个CSS文件样式数量限制的bug</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/02/16/IE9浏览器单个CSS文件样式数量限制的bug/">
            <time datetime="2016-02-16T09:22:11.000Z" itemprop="datePublished">2016-02-16</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/IE浏览器/">IE浏览器</a>, <a class="tag-link" href="/tags/css/">css</a>, <a class="tag-link" href="/tags/兼容性/">兼容性</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>起源于测试报了一个在IE9浏览器的bug，弹窗的自定义样式失效了，无法正常展现，而开发环境中没有这个问题</p>
<h1 id="分析原因"><a href="#分析原因" class="headerlink" title="分析原因"></a>分析原因</h1><p>因为开发环境没有这个问题，初步判断可能是由于上线过程中对css的build引起的。</p>
<p>登录线上环境看了一下，也发现同样的样式丢失问题，确认了是css build引起的问题</p>
<p>css build的主要工作是多个css合并成一个，并且压缩。</p>
<h1 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h1><p>首先用CSSHint对build后的css做检查，没有发现能够造成严重错误的致命问题。</p>
<p>后来发现如果删除了css中的一些样式，无论是什么样式，只要达到一定数量，其后面失效的样式就会起效。那么我们怀疑是不是IE9对单个CSS文件的大小、行数或者样式数有限制。</p>
<p>后来查了下，发现了msdn的这片blog <a href="http://blogs.msdn.com/b/ieinternals/archive/2011/05/14/10164546.aspx" target="_blank" rel="external">Stylesheet Limits in Internet Explorer</a>，发现了IE6-9对单个css文件只能支持到4095个样式，超过的样式会被IE浏览器忽略</p>
<p>我们build后获得的单个css文件中的样式是4118个，所以后面的23个样式在IE9浏览器下失效</p>
<p>p.s.IE10以上的限制就变成65534了</p>
<h1 id="bless"><a href="#bless" class="headerlink" title="bless"></a><a href="http://blesscss.com/" target="_blank" rel="external">bless</a></h1><p><img src="/images/blessicon.png" alt=""></p>
<p>主要用来处理IE浏览器下单个css中样式超过限制的问题，分隔单个css成多个小的css，使用@import连接这些分散的css。</p>
<p>bless还提供了grunt插件<a href="https://github.com/BlessCSS/grunt-bless" target="_blank" rel="external">grunt-bless</a></p>
<p>集成到我们的grunt中,Grunkfile.js如下：</p>
<pre><code>bless: {
    css: {
        options: {
          logCount: true
        },
        files: {
          &apos;dist/min/system.min.css&apos;: &apos;dist/min/system.min.css&apos;
        }
    }
}
</code></pre>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/02/16/IE9浏览器单个CSS文件样式数量限制的bug/" data-id="cj6rf692f0006i9fy38wjfd0c" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/02/16/IE9浏览器单个CSS文件样式数量限制的bug/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/02/16/IE9浏览器单个CSS文件样式数量限制的bug/">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Github中的badge" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/01/28/Github中的badge/">Github中的badge</a>
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/01/28/Github中的badge/">
            <time datetime="2016-01-28T06:57:34.000Z" itemprop="datePublished">2016-01-28</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Github/">Github</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>经常能在Github上看到在README的标题下面，会有一排并行排列的徽章，看起来好厉害的样子。</p>
<p><a href="https://github.com/yanyu0517/biz-mock" target="_blank" rel="external">biz-mock</a><br><img src="/images/QQ截图20160128110704.png" alt=""></p>
<p>那么这些徽章是如何生成的，由哪些服务提供的，如何管理你的github项目，统计github项目数据？</p>
<p>根据获得这些徽章的难易程度把这些徽章做一个排序，难度从易到难</p>
<p><strong>1星难度：取得github权限，直接读取</strong></p>
<p><a href="https://www.bithound.io/" target="_blank" rel="external">bithound</a></p>
<p><a href="https://www.bithound.io/github/yanyu0517/biz-mock" target="_blank" rel="external"><img src="https://www.bithound.io/github/yanyu0517/biz-mock/badges/score.svg" alt="bitHound Overalll Score"></a></p>
<p>bithound为你的node项目提供了连续分析和风险识别。从第三方依赖、code review、license等方便持续帮助你监控你的代码质量</p>
<p>使用bithound也很简单，只要使用你的github登录bithound，并授予相应的github权限即可。</p>
<p>登陆后添加你的github项目</p>
<p><img src="/images/QQ截图20160128113508.png" alt=""></p>
<p>bithound会自动根据DEPENDENCY INSIGHTS、CODE INSIGHTS等方面对项目进行分析并计算得分，生成多种徽章。徽章提供了markdown和html两种格式供添加</p>
<p><img src="/images/QQ截图20160128113918.png" alt=""></p>
<p><strong>2星难度：npm统计</strong></p>
<p>npm提供了很多种的统计徽章，如npm版本，license，npm download数等。</p>
<p>相比1星难度，npm统计需要额外配置package.json，并在你npm中publish你的项目。</p>
<p>publish后，调用npm相应的徽章服务接口，就可以生成对应徽章了。我目前用到的几个npm徽章服务接口</p>
<p>1、 npm版本</p>
<p><a href="https://www.npmjs.com/package/biz-mock" target="_blank" rel="external"><img src="https://img.shields.io/npm/v/biz-mock.svg" alt="NPM version"></a></p>
<p>服务接口：<a href="https://img.shields.io/npm/v/yourproject.svg" target="_blank" rel="external">https://img.shields.io/npm/v/yourproject.svg</a></p>
<p>2、npm license</p>
<p><a href="https://www.npmjs.com/package/biz-mock" target="_blank" rel="external"><img src="https://img.shields.io/npm/l/biz-mock.svg" alt="NPM license"></a></p>
<p>服务接口：<a href="https://img.shields.io/npm/l/yourproject.svg" target="_blank" rel="external">https://img.shields.io/npm/l/yourproject.svg</a></p>
<p>3、npm download数</p>
<p><a href="https://www.npmjs.com/package/biz-mock" target="_blank" rel="external"><img src="https://img.shields.io/npm/dt/biz-mock.svg" alt="NPM downloads total"></a></p>
<p>服务接口：<a href="https://img.shields.io/npm/dt/yourproject.svg" target="_blank" rel="external">https://img.shields.io/npm/dt/yourproject.svg</a></p>
<p><strong>3星难度：单独配置</strong></p>
<p>与2星难度和1星难度相比，这部分徽章需要额外配置自己的配置文件，才能够展现徽章。</p>
<p><a href="https://travis-ci.org/" target="_blank" rel="external">travis-ci</a></p>
<p>[<img src="https://travis-ci.org/yanyu0517/biz-server.svg?branch=master" alt="Build Status">]</p>
<p>travis-ci是一个分布式在线持续可集成服务，与Github紧密结合，能够自动化构建和测试Github项目，支持主流开发语言：C、JS、PHP、Ruby、Python等</p>
<p>首先需要使用你自己的Github登录travis-ci，并给予travis-ci相应Github操作权限</p>
<p>第二步，在你的Github repository中配置.travis.yml配置文件</p>
<p><a href="https://docs.travis-ci.com/user/customizing-the-build/" target="_blank" rel="external">.travis.yml doc</a></p>
<p>上面步骤完成后，travis-ci会在每次提交代码的时候，自动构建和测试你的项目，并给出build结果</p>
<p><img src="/images/QQ截图20160128142413.png" alt=""></p>
<p>travis-ci的徽章提供了html、markdown、RST等多种格式</p>
<p><img src="/images/QQ截图20160128142607.png" alt=""></p>
<p><strong>4星难度：多模块联合配置</strong></p>
<p><a href="https://coveralls.io/" target="_blank" rel="external">coveralls</a></p>
<p><a href="https://coveralls.io/github/yanyu0517/biz-mock?branch=master" target="_blank" rel="external"><img src="https://coveralls.io/repos/yanyu0517/biz-mock/badge.svg?branch=master&amp;service=github" alt="Coverage Status"></a></p>
<p>coveralls提供代码覆盖率管理的服务，需要与Vows（bdd测试框架），istanbul（代码覆盖率测试）配合，才能生成徽章。实现过程可以参考：<a href="http://yanyu0517.github.io/2015/12/11/vows-istanbul-coveralls-%E6%95%B4%E5%90%88/" target="_blank" rel="external">vows-istanbul-coveralls-整合</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Github上的徽章是一个有趣的功能，甚至会让人上瘾，总是希望能够为自己的项目多增加一些徽章，把README装饰的big满满。</p>
<p><a href="http://shields.io/" target="_blank" rel="external">http://shields.io/</a>列出了很多有意思的徽章，也可以在其他repository的README中发现没有见过的徽章，查看README源码就可以知道是如何引用的。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/01/28/Github中的badge/" data-id="cj6rf692b0005i9fyvpkwsajj" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/01/28/Github中的badge/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2016/01/28/Github中的badge/">评论</a>
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
    </nav>
</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/08/25/编码到底怎么回事/" class="thumbnail">
    
    
        <span style="background-image:url(https://ww2.sinaimg.cn/large/006tNc79ly1fibkxk7ws4j30rk14q7e7.jpg)" alt="编码到底怎么回事" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2017/08/25/编码到底怎么回事/" class="title">编码到底怎么回事</a></p>
                            <p class="item-date"><time datetime="2017-08-25T04:47:08.000Z" itemprop="datePublished">2017-08-25</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/02/09/ES7和ES8特性/" class="thumbnail">
    
    
        <span style="background-image:url(https://ww1.sinaimg.cn/large/006tNc79ly1fcgu138drlj30qo0f5mzg.jpg)" alt="ES7和ES8特性.md" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2017/02/09/ES7和ES8特性/" class="title">ES7和ES8特性.md</a></p>
                            <p class="item-date"><time datetime="2017-02-09T04:07:19.000Z" itemprop="datePublished">2017-02-09</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/07/JavaScript-2016-调查-—-状态管理工具/" class="thumbnail">
    
    
        <span style="background-image:url(/images/small.png)" alt="JavaScript 2016 调查 — 状态管理工具" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/12/07/JavaScript-2016-调查-—-状态管理工具/" class="title">JavaScript 2016 调查 — 状态管理工具</a></p>
                            <p class="item-date"><time datetime="2016-12-07T10:30:24.000Z" itemprop="datePublished">2016-12-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/06/JavaScript-2016-调查-—-前端框架/" class="thumbnail">
    
    
        <span style="background-image:url(/images/frall.png)" alt="JavaScript 2016 调查 — 前端框架" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/12/06/JavaScript-2016-调查-—-前端框架/" class="title">JavaScript 2016 调查 — 前端框架</a></p>
                            <p class="item-date"><time datetime="2016-12-06T11:33:11.000Z" itemprop="datePublished">2016-12-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/02/JavaScript-2016-调查-—-JavaScript语言规范/" class="thumbnail">
    
    
        <span style="background-image:url(/images/all.png)" alt="JavaScript 2016 调查 — JavaScript语言规范" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/12/02/JavaScript-2016-调查-—-JavaScript语言规范/" class="title">JavaScript 2016 调查 — JavaScript语言规范</a></p>
                            <p class="item-date"><time datetime="2016-12-02T08:19:10.000Z" itemprop="datePublished">2016-12-02</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/">Angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular2/">Angular2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IE浏览器/">IE浏览器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-2016/">JavaScript 2016</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/">TypeScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue2/">Vue2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/badge/">badge</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coverage/">coverage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coveralls/">coveralls</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es8/">es8</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitflow/">gitflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github-flow/">github flow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/">gitlab</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/istanbul/">istanbul</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/">test</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vows/">vows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/兼容性/">兼容性</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端框架/">前端框架</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/包管理工具/">包管理工具</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工作实践/">工作实践</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/测试/">测试</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语言规范/">语言规范</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/－javascript-node-es6/">－javascript - node - es6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/－unicode-gbk-utf8-utf16-encoding/">－unicode -gbk -utf8 -utf16 -encoding</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/Angular2/" style="font-size: 10px;">Angular2</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/IE浏览器/" style="font-size: 10px;">IE浏览器</a> <a href="/tags/JavaScript-2016/" style="font-size: 20px;">JavaScript 2016</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Vue2/" style="font-size: 10px;">Vue2</a> <a href="/tags/badge/" style="font-size: 10px;">badge</a> <a href="/tags/coverage/" style="font-size: 10px;">coverage</a> <a href="/tags/coveralls/" style="font-size: 10px;">coveralls</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/es7/" style="font-size: 10px;">es7</a> <a href="/tags/es8/" style="font-size: 10px;">es8</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitflow/" style="font-size: 10px;">gitflow</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/github-flow/" style="font-size: 10px;">github flow</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/istanbul/" style="font-size: 10px;">istanbul</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/vows/" style="font-size: 10px;">vows</a> <a href="/tags/兼容性/" style="font-size: 10px;">兼容性</a> <a href="/tags/前端框架/" style="font-size: 10px;">前端框架</a> <a href="/tags/包管理工具/" style="font-size: 10px;">包管理工具</a> <a href="/tags/工作实践/" style="font-size: 10px;">工作实践</a> <a href="/tags/测试/" style="font-size: 10px;">测试</a> <a href="/tags/语言规范/" style="font-size: 10px;">语言规范</a> <a href="/tags/－javascript-node-es6/" style="font-size: 10px;">－javascript - node - es6</a> <a href="/tags/－unicode-gbk-utf8-utf16-encoding/" style="font-size: 10px;">－unicode -gbk -utf8 -utf16 -encoding</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 Yan Yu<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
        this.page.identifier = 'undefined';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'hexo-theme-icarus' + '.disqus.com/count.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>